Bootstrapper.bindDependencyDOMParsed(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var chatID=function(){var host=location.hostname,path=location.pathname;switch(host){case "www.kone.nl":return"d6f83e69-3ffd-43f5-b012-9e28420f88b0";case "www.kone.fi":return"a3c9062a-1819-4305-ad13-64637be5f6e1";case "www.kone.se":return"14d1aba3-1472-4b63-8570-56d827aeaceb";case "www.kone.mx":return"c3b7387d-b49f-4bc6-a3d0-fbb605f8dfcd";case "www.kone.fr":return"d0ad491a-0bab-4b7b-a668-ee4e64da6205";
case "www.kone.us":return"ce278aa1-2e03-4fb1-9054-2ad97f09c2d7";case "preview-support.kone.com":return"a76c1ea6-8648-4efc-b4e6-f93537149c52";case "preview.kone.com.au":case "preview.kone.co.nz":case "www.kone.com.au":case "www.kone.co.nz":return"dd04f4ec-fa4e-47c0-9e53-dc49e5b814b7"}if(~location.href.indexOf("kone.ca/en"))return"ce278aa1-2e03-4fb1-9054-2ad97f09c2d7";if(~location.href.indexOf("kone.ca/fr"))return"a7e080b7-042e-47af-b9da-45c4eae1960a";if(host==="info.kone.com")if(/MASTER|US/i.test(location.pathname))return"40854312-c7a8-4511-83d0-3b987679b122";
if(/^((preview|www)\.kone\.de)$/i.test(host)&&/^(\/neubau\/aufzug-aufzuege\/)/i.test(path))return"526cc009-8548-4cf3-a4b9-4c70af22bdf1";return""}();var seTag=function(){if(~location.href.indexOf(".kone.fi/campaigns/kone-residential-flow"))return"campaigns";return"general"}();var scidCookie="scid",scid=Bootstrapper.getQueryParam("scid")||Bootstrapper.Cookies.get(scidCookie);if(scid){window.scid=scid;var cookieName="cattributes",cookieType="persistent",delimiter=",";var currentVal=KONE.model.data.get(cookieName,
cookieType),oldOutput=currentVal?currentVal.split(delimiter):[],output=[],interest=~location.href.indexOf(".kone.fi/campaigns/kone-residential-flow")?KONE.config.personalization.targetGroup.resiflow.campaignId:"";for(var i=0;i<oldOutput.length;i++)if(!~oldOutput[i].indexOf("SCID\x3d")&&!~oldOutput[i].indexOf("INTEREST\x3d"))output.push(oldOutput[i]);output.push("SCID\x3d"+scid);output.push("INTEREST\x3d"+interest);KONE.model.data.set(cookieName,output.join(","),cookieType);KONE.model.api.dapi.getUserDetails(scid)}window.SnapEngageOptions=
{"tags":seTag};if(chatID)Bootstrapper.loadScriptCallback("//storage.googleapis.com/code.snapengage.com/js/"+chatID+".js",function(){var chatBtn=document.getElementById("chat-button"),isResidentialFlow=false,isCloudPage=location.hostname==="info.kone.com",isCloudArchitectPage=isCloudPage&&/^\/architects/i.test(location.pathname);if(~location.href.indexOf(".kone.fi/campaigns/kone-residential-flow/")){isResidentialFlow=true;var el=document.createElement("a"),target=document.getElementsByClassName("contact-control-close")[0].previousElementSibling;
el.innerHTML="Aloita chat-keskustelu";el.id="chat-button";el.href="#";el.style.display="none";el.style.marginRight="20px";target.parentNode.insertBefore(el,target);chatBtn=el}SnapEngage.hideButton();SnapEngage.setCallback("Close",function(type,status){SnapEngage.hideButton()});SnapEngage.getAgentStatusAsync(function(online){if(~location.href.indexOf("debug\x3dtrue"))console.log("MESSAGE: SnapEngage Agent Status: "+online);if(online){if(chatBtn){chatBtn.style.display="block";if(isResidentialFlow)document.querySelectorAll("#header img")[0].style.marginLeft=
"178px"}}else{if(chatBtn)chatBtn.style.display="none";if(isCloudPage&&!isCloudArchitectPage)chatBtn.style.display="block"}});Bootstrapper.on("click","#chat-button",function(){SnapEngage.startLink()});SnapEngage.setCallback("StartChat",function(email,msg,type){Bootstrapper.chatMessageSentTime=(new Date).getTime();Bootstrapper.Cookies.set("chatted","yes");if(window.s)s.tl(this,"o","SnapEngage StartChat",{"linkTrackVars":"events,eVar45","linkTrackEvents":"event51","events":"event51","eVar45":"yes"})});
SnapEngage.setCallback("ChatMessageSent",function(msg){Bootstrapper.chatMessageSentTime=(new Date).getTime();if(window.s)s.tl(this,"o","SnapEngage Message Sent",{"linkTrackVars":"events,eVar45","linkTrackEvents":"event53","events":"event53","eVar45":"yes"})});SnapEngage.setCallback("ChatMessageReceived",function(msg){Bootstrapper.chatMessageReceivedTime=(new Date).getTime();if(Bootstrapper.chatMessageReceivedTime>Bootstrapper.chatMessageSentTime&&Bootstrapper.oldTime!=Bootstrapper.chatMessageSentTime){var duration=
(Bootstrapper.chatMessageReceivedTime-Bootstrapper.chatMessageSentTime)/1E3,timeRounded=Math.round(duration);if(window.s)s.tl(this,"o","SnapEngage Message Received",{"linkTrackVars":"events","linkTrackEvents":"event52,event54","events":"event52,event54\x3d"+timeRounded,"eVar45":"yes"});Bootstrapper.oldTime=Bootstrapper.chatMessageSentTime}})})},2455374,[2482817],417743,[526965]);