!function(t,e){var n=e(t,t.document);t.lazySizes=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window,function(t,e){"use strict";if(e.getElementsByClassName){var n,a,i=e.documentElement,s=t.Date,r=t.HTMLPictureElement,o="addEventListener",l="getAttribute",c=t[o],d=t.setTimeout,u=t.requestAnimationFrame||d,f=t.requestIdleCallback,m=/^picture$/i,z=["load","error","lazyincluded","_lazyloaded"],v={},g=Array.prototype.forEach,y=function(t,e){return v[e]||(v[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),v[e].test(t[l]("class")||"")&&v[e]},h=function(t,e){y(t,e)||t.setAttribute("class",(t[l]("class")||"").trim()+" "+e)},p=function(t,e){var n;(n=y(t,e))&&t.setAttribute("class",(t[l]("class")||"").replace(n," "))},C=function(t,e,n){var a=n?o:"removeEventListener";n&&C(t,e),z.forEach(function(n){t[a](n,e)})},b=function(t,a,i,s,r){var o=e.createEvent("CustomEvent");return i||(i={}),i.instance=n,o.initCustomEvent(a,!s,!r,i),t.dispatchEvent(o),o},A=function(e,n){var i;!r&&(i=t.picturefill||a.pf)?i({reevaluate:!0,elements:[e]}):n&&n.src&&(e.src=n.src)},E=function(t,e){return(getComputedStyle(t,null)||{})[e]},w=function(t,e,n){for(n=n||t.offsetWidth;n<a.minSize&&e&&!t._lazysizesWidth;)n=e.offsetWidth,e=e.parentNode;return n},M=function(){var t,n,a=[],i=[],s=a,r=function(){var e=s;for(s=a.length?i:a,t=!0,n=!1;e.length;)e.shift()();t=!1},o=function(a,i){t&&!i?a.apply(this,arguments):(s.push(a),n||(n=!0,(e.hidden?d:u)(r)))};return o._lsFlush=r,o}(),N=function(t,e){return e?function(){M(t)}:function(){var e=this,n=arguments;M(function(){t.apply(e,n)})}},_=function(t){var e,n=0,a=125,i=666,r=i,o=function(){e=!1,n=s.now(),t()},l=f?function(){f(o,{timeout:r}),r!==i&&(r=i)}:N(function(){d(o)},!0);return function(t){var i;(t=t===!0)&&(r=44),e||(e=!0,i=a-(s.now()-n),0>i&&(i=0),t||9>i&&f?l():d(l,i))}},W=function(t){var e,n,a=99,i=function(){e=null,t()},r=function(){var t=s.now()-n;a>t?d(r,a-t):(f||i)(i)};return function(){n=s.now(),e||(e=d(r,a))}},x=function(){var r,u,f,z,v,w,x,F,S,L,R,k,H,O,P=/^img$/i,T=/^iframe$/i,$="onscroll"in t&&!/glebot/.test(navigator.userAgent),D=0,I=0,q=0,j=-1,G=function(t){q--,t&&t.target&&C(t.target,G),(!t||0>q||!t.target)&&(q=0)},J=function(t,n){var a,s=t,r="hidden"==E(e.body,"visibility")||"hidden"!=E(t,"visibility");for(F-=n,R+=n,S-=n,L+=n;r&&(s=s.offsetParent)&&s!=e.body&&s!=i;)r=(E(s,"opacity")||1)>0,r&&"visible"!=E(s,"overflow")&&(a=s.getBoundingClientRect(),r=L>a.left&&S<a.right&&R>a.top-1&&F<a.bottom+1);return r},K=function(){var t,s,o,c,d,f,m,v,g,y=n.elements;if((z=a.loadMode)&&8>q&&(t=y.length)){s=0,j++,null==H&&("expand"in a||(a.expand=i.clientHeight>500&&i.clientWidth>500?500:370),k=a.expand,H=k*a.expFactor),H>I&&1>q&&j>2&&z>2&&!e.hidden?(I=H,j=0):I=z>1&&j>1&&6>q?k:D;for(;t>s;s++)if(y[s]&&!y[s]._lazyRace)if($)if((v=y[s][l]("data-expand"))&&(f=1*v)||(f=I),g!==f&&(w=innerWidth+f*O,x=innerHeight+f,m=-1*f,g=f),o=y[s].getBoundingClientRect(),(R=o.bottom)>=m&&(F=o.top)<=x&&(L=o.right)>=m*O&&(S=o.left)<=w&&(R||L||S||F)&&(a.loadHidden||"hidden"!=E(y[s],"visibility"))&&(u&&3>q&&!v&&(3>z||4>j)||J(y[s],f))){if(et(y[s]),d=!0,q>9)break}else!d&&u&&!c&&4>q&&4>j&&z>2&&(r[0]||a.preloadAfterLoad)&&(r[0]||!v&&(R||L||S||F||"auto"!=y[s][l](a.sizesAttr)))&&(c=r[0]||y[s]);else et(y[s]);c&&!d&&et(c)}},Q=_(K),U=function(t){h(t.target,a.loadedClass),p(t.target,a.loadingClass),C(t.target,X),b(t.target,"lazyloaded")},V=N(U),X=function(t){V({target:t.target})},Y=function(t,e){try{t.contentWindow.location.replace(e)}catch(n){t.src=e}},Z=function(t){var e,n=t[l](a.srcsetAttr);(e=a.customMedia[t[l]("data-media")||t[l]("media")])&&t.setAttribute("media",e),n&&t.setAttribute("srcset",n)},tt=N(function(t,e,n,i,s){var r,o,c,u,z,v;(z=b(t,"lazybeforeunveil",e)).defaultPrevented||(i&&(n?h(t,a.autosizesClass):t.setAttribute("sizes",i)),o=t[l](a.srcsetAttr),r=t[l](a.srcAttr),s&&(c=t.parentNode,u=c&&m.test(c.nodeName||"")),v=e.firesLoad||"src"in t&&(o||r||u),z={target:t},v&&(C(t,G,!0),clearTimeout(f),f=d(G,2500),h(t,a.loadingClass),C(t,X,!0)),u&&g.call(c.getElementsByTagName("source"),Z),o?t.setAttribute("srcset",o):r&&!u&&(T.test(t.nodeName)?Y(t,r):t.src=r),s&&(o||u)&&A(t,{src:r})),t._lazyRace&&delete t._lazyRace,p(t,a.lazyClass),M(function(){(!v||t.complete&&t.naturalWidth>1)&&(v?G(z):q--,U(z))},!0)}),et=function(t){var e,n=P.test(t.nodeName),i=n&&(t[l](a.sizesAttr)||t[l]("sizes")),s="auto"==i;(!s&&u||!n||!t[l]("src")&&!t.srcset||t.complete||y(t,a.errorClass))&&(e=b(t,"lazyunveilread").detail,s&&B.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,q++,tt(t,e,s,i,n))},nt=function(){if(!u){if(s.now()-v<999)return void d(nt,999);var t=W(function(){a.loadMode=3,Q()});u=!0,a.loadMode=3,Q(),c("scroll",function(){3==a.loadMode&&(a.loadMode=2),t()},!0)}};return{_:function(){v=s.now(),n.elements=e.getElementsByClassName(a.lazyClass),r=e.getElementsByClassName(a.lazyClass+" "+a.preloadClass),O=a.hFac,c("scroll",Q,!0),c("resize",Q,!0),t.MutationObserver?new MutationObserver(Q).observe(i,{childList:!0,subtree:!0,attributes:!0}):(i[o]("DOMNodeInserted",Q,!0),i[o]("DOMAttrModified",Q,!0),setInterval(Q,999)),c("hashchange",Q,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){e[o](t,Q,!0)}),/d$|^c/.test(e.readyState)?nt():(c("load",nt),e[o]("DOMContentLoaded",Q),d(nt,2e4)),n.elements.length?(K(),M._lsFlush()):Q()},checkElems:Q,unveil:et}}(),B=function(){var t,n=N(function(t,e,n,a){var i,s,r;if(t._lazysizesWidth=a,a+="px",t.setAttribute("sizes",a),m.test(e.nodeName||""))for(i=e.getElementsByTagName("source"),s=0,r=i.length;r>s;s++)i[s].setAttribute("sizes",a);n.detail.dataAttr||A(t,n.detail)}),i=function(t,e,a){var i,s=t.parentNode;s&&(a=w(t,s,a),i=b(t,"lazybeforesizes",{width:a,dataAttr:!!e}),i.defaultPrevented||(a=i.detail.width,a&&a!==t._lazysizesWidth&&n(t,s,i,a)))},s=function(){var e,n=t.length;if(n)for(e=0;n>e;e++)i(t[e])},r=W(s);return{_:function(){t=e.getElementsByClassName(a.autosizesClass),c("resize",r)},checkElems:r,updateElem:i}}(),F=function(){F.i||(F.i=!0,B._(),x._())};return function(){var e,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0};a=t.lazySizesConfig||t.lazysizesConfig||{};for(e in n)e in a||(a[e]=n[e]);t.lazySizesConfig=a,d(function(){a.init&&F()})}(),n={cfg:a,autoSizer:B,loader:x,init:F,uP:A,aC:h,rC:p,hC:y,fire:b,gW:w,rAF:M}}});
var objectFitImages=function(){"use strict";function t(t,e){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+t+"' height='"+e+"'%3E%3C/svg%3E"}function e(t){if(t.srcset&&!p&&window.picturefill){var e=window.picturefill._;t[e.ns]&&t[e.ns].evaled||e.fillImg(t,{reselect:!0}),t[e.ns].curSrc||(t[e.ns].supported=!1,e.fillImg(t,{reselect:!0})),t.currentSrc=t[e.ns].curSrc||t.src}}function i(t){for(var e,i=getComputedStyle(t).fontFamily,r={};null!==(e=u.exec(i));)r[e[1]]=e[2];return r}function r(e,i,r){var n=t(i||1,r||0);b.call(e,"src")!==n&&h.call(e,"src",n)}function n(t,e){t.naturalWidth?e(t):setTimeout(n,100,t,e)}function c(t){var c=i(t),o=t[l];if(c["object-fit"]=c["object-fit"]||"fill",!o.img){if("fill"===c["object-fit"])return;if(!o.skipTest&&f&&!c["object-position"])return}if(!o.img){o.img=new Image(t.width,t.height),o.img.srcset=b.call(t,"data-ofi-srcset")||t.srcset,o.img.src=b.call(t,"data-ofi-src")||t.src,h.call(t,"data-ofi-src",t.src),t.srcset&&h.call(t,"data-ofi-srcset",t.srcset),r(t,t.naturalWidth||t.width,t.naturalHeight||t.height),t.srcset&&(t.srcset="");try{s(t)}catch(a){window.console&&console.warn("https://bit.ly/ofi-old-browser")}}e(o.img),t.style.backgroundImage='url("'+(o.img.currentSrc||o.img.src).replace(/"/g,'\\"')+'")',t.style.backgroundPosition=c["object-position"]||"center",t.style.backgroundRepeat="no-repeat",t.style.backgroundOrigin="content-box",/scale-down/.test(c["object-fit"])?n(o.img,function(){o.img.naturalWidth>t.width||o.img.naturalHeight>t.height?t.style.backgroundSize="contain":t.style.backgroundSize="auto"}):t.style.backgroundSize=c["object-fit"].replace("none","auto").replace("fill","100% 100%"),n(o.img,function(e){r(t,e.naturalWidth,e.naturalHeight)})}function s(t){var e={get:function(e){return t[l].img[e?e:"src"]},set:function(e,i){return t[l].img[i?i:"src"]=e,h.call(t,"data-ofi-"+i,e),c(t),e}};Object.defineProperty(t,"src",e),Object.defineProperty(t,"currentSrc",{get:function(){return e.get("currentSrc")}}),Object.defineProperty(t,"srcset",{get:function(){return e.get("srcset")},set:function(t){return e.set(t,"srcset")}})}function o(){function t(t,e){return t[l]&&t[l].img&&("src"===e||"srcset"===e)?t[l].img:t}d||(HTMLImageElement.prototype.getAttribute=function(e){return b.call(t(this,e),e)},HTMLImageElement.prototype.setAttribute=function(e,i){return h.call(t(this,e),e,String(i))})}function a(t,e){var i=!y&&!t;if(e=e||{},t=t||"img",d&&!e.skipTest||!m)return!1;"img"===t?t=document.getElementsByTagName("img"):"string"==typeof t?t=document.querySelectorAll(t):"length"in t||(t=[t]);for(var r=0;r<t.length;r++)t[r][l]=t[r][l]||{skipTest:e.skipTest},c(t[r]);i&&(document.body.addEventListener("load",function(t){"IMG"===t.target.tagName&&a(t.target,{skipTest:e.skipTest})},!0),y=!0,t="img"),e.watchMQ&&window.addEventListener("resize",a.bind(null,t,{skipTest:e.skipTest}))}var l="bfred-it:object-fit-images",u=/(object-fit|object-position)\s*:\s*([-\w\s%]+)/g,g="undefined"==typeof Image?{style:{"object-position":1}}:new Image,f="object-fit"in g.style,d="object-position"in g.style,m="background-size"in g.style,p="string"==typeof g.currentSrc,b=g.getAttribute,h=g.setAttribute,y=!1;return a.supportsObjectFit=f,a.supportsObjectPosition=d,o(),a}();
$(document).ready(function(){function e(){$(".rtf table").each(function(){var e=$(this).find("tr").first(),t=$(this);if(2==e.find("td").length||2==e.find("th").length){t.addClass("reference-table");var a=$(this).find("td");a.each(function(e,a){$(a).attr("colspan")>1&&t.removeClass("reference-table")})}})}var t=!1,a=function(){if($(window).width()<1025&&!t){var e=$(".module-table table, .rtf table");return e.addClass("responsive data"),t=!0,$("table.responsive").each(function(e,t){}),!0}if(t&&$(window).width()>1025){t=!1;var e=$(".module-table table, .rtf table");e.removeClass("responsive data")}};$(window).load(a),optimizedResize.add(a),e();var r=$(".rtf table").not($(".rtf.external-table-container table, .rtf table.reference-table")),n=$(".rtf.external-table-container>table");r.wrap('<div class="table-container"></div>'),n.wrap('<div class="external-table"></div>');var i=$(".table-container table"),l=jQuery("html").attr("dir"),d={};d="ltr"===l?{left:1,head:!1,direction:"ltr"}:{right:1,head:!1,direction:"rtl"},i.each(function(e,t){$(t).tableHeadFixer(d)})});
!function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],i):"undefined"!=typeof exports?module.exports=i(require("jquery")):i(jQuery)}(function(i){"use strict";var e=window.Slick||{};e=function(){function e(e,o){var s,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:i(e),appendDots:i(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(i,e){return'<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">'+(e+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!1,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1,$kone:null},i.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.hidden="hidden",n.paused=!1,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$carousel=i(e),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange="visibilitychange",n.windowWidth=0,n.windowTimer=null,s=i(e).data("slick")||{},n.options=i.extend({},n.defaults,s,o),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,"undefined"!=typeof document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"),n.autoPlay=i.proxy(n.autoPlay,n),n.autoPlayClear=i.proxy(n.autoPlayClear,n),n.changeSlide=i.proxy(n.changeSlide,n),n.clickHandler=i.proxy(n.clickHandler,n),n.selectHandler=i.proxy(n.selectHandler,n),n.setPosition=i.proxy(n.setPosition,n),n.swipeHandler=i.proxy(n.swipeHandler,n),n.dragHandler=i.proxy(n.dragHandler,n),n.keyHandler=i.proxy(n.keyHandler,n),n.autoPlayIterator=i.proxy(n.autoPlayIterator,n),n.instanceUid=t++,n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0),n.checkResponsive(!0)}var t=0;return e}(),e.prototype.addSlide=e.prototype.slickAdd=function(e,t,o){var s=this;if("boolean"==typeof t)o=t,t=null;else if(t<0||t>=s.slideCount)return!1;s.unload(),"number"==typeof t?0===t&&0===s.$slides.length?i(e).appendTo(s.$slideTrack):o?i(e).insertBefore(s.$slides.eq(t)):i(e).insertAfter(s.$slides.eq(t)):o===!0?i(e).prependTo(s.$slideTrack):i(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,t){i(t).attr("data-slick-index",e)}),s.$slidesCache=s.$slides,s.reinit()},e.prototype.animateHeight=function(){var i=this;if(1===i.options.slidesToShow&&i.options.adaptiveHeight===!0&&i.options.vertical===!1){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.animate({height:e},i.options.speed)}},e.prototype.animateSlide=function(e,t){var o={},s=this;s.animateHeight(),s.options.rtl===!0&&s.options.vertical===!1&&(e=-e),s.transformsEnabled===!1?s.options.vertical===!1?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,t):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,t):s.cssTransitions===!1?(s.options.rtl===!0&&(s.currentLeft=-s.currentLeft),i({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(i){i=Math.ceil(i),s.options.vertical===!1?(o[s.animType]="translate("+i+"px, 0px)",s.$slideTrack.css(o)):(o[s.animType]="translate(0px,"+i+"px)",s.$slideTrack.css(o))},complete:function(){t&&t.call()}})):(s.applyTransition(),e=Math.ceil(e),s.options.vertical===!1?o[s.animType]="translate3d("+e+"px, 0px, 0px)":o[s.animType]="translate3d(0px,"+e+"px, 0px)",s.$slideTrack.css(o),t&&setTimeout(function(){s.disableTransition(),t.call()},s.options.speed))},e.prototype.asNavFor=function(e){var t=this,o=t.options.asNavFor;o&&null!==o&&(o=i(o).not(t.$carousel)),null!==o&&"object"==typeof o&&o.each(function(){var t=i(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},e.prototype.applyTransition=function(i){var e=this,t={};e.options.fade===!1?t[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:t[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,e.options.fade===!1?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.autoPlay=function(){var i=this;i.autoPlayTimer&&clearInterval(i.autoPlayTimer),i.slideCount>i.options.slidesToShow&&i.paused!==!0&&(i.autoPlayTimer=setInterval(i.autoPlayIterator,i.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var i=this;i.autoPlayTimer&&clearInterval(i.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var i=this;i.options.infinite===!1?1===i.direction?(i.currentSlide+1===i.slideCount-1&&(i.direction=0),i.slideHandler(i.currentSlide+i.options.slidesToScroll)):(i.currentSlide-1===0&&(i.direction=1),i.slideHandler(i.currentSlide-i.options.slidesToScroll)):i.slideHandler(i.currentSlide+i.options.slidesToScroll)},e.prototype.buildArrows=function(){var e=this;e.options.arrows===!0&&(e.$prevArrow=i(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=i(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.appendTo(e.$list),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.$list),e.options.infinite!==!0&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,t,o=this;if(o.options.dots===!0&&o.slideCount>o.options.slidesToShow){for(t='<ul class="'+o.options.dotsClass+'">',e=0;e<=o.getDotCount();e+=1)t+="<li>"+o.options.customPaging.call(this,o,e)+"</li>";t+="</ul>",o.$dots=i(t).wrap('<div class="slick-paging" />').parent().appendTo(o.options.appendDots),o.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$carousel.find("section").eq(0).children(e.options.slide+":not(.slick-cloned, header)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){i(t).attr("data-slick-index",e).data("originalStyling",i(t).attr("style")||"")}),e.$carousel.addClass("slick-slider"),e.$slideTrack=e.$carousel.find("section").eq(0),e.$slideTrack.addClass("slick-track"),e.$list=e.$slideTrack.parent(),e.$list.addClass("slick-list"),e.$slideTrack.css("opacity",0),e.options.centerMode!==!0&&e.options.swipeToSlide!==!0||(e.options.slidesToScroll=1),i("img[data-lazy]",e.$carousel).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.options.draggable===!0&&e.$list.addClass("draggable"),e.slideCount<=e.options.slidesToShow&&e.$list.addClass("slick-disabled")},e.prototype.buildRows=function(){var i,e,t,o,s,n,l,r=this;if(o=document.createDocumentFragment(),n=r.$carousel.find("section").eq(0).children(),r.options.rows>1){for(l=r.options.slidesPerRow*r.options.rows,s=Math.ceil(n.length/l),i=0;i<s;i++){var a=document.createElement("div");for(e=0;e<r.options.rows;e++){var d=document.createElement("div");for(t=0;t<r.options.slidesPerRow;t++){var c=i*l+(e*r.options.slidesPerRow+t);n.get(c)&&d.appendChild(n.get(c))}a.appendChild(d)}o.appendChild(a)}r.$carousel.find("section").eq(0).html(o),r.$carousel.find("section").eq(0).children().children().children().css({width:100/r.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,t){var o,s,n,l=this,r=!1,a=l.$carousel.width(),d=window.innerWidth||i(window).width();if("window"===l.respondTo?n=d:"slider"===l.respondTo?n=a:"min"===l.respondTo&&(n=Math.min(d,a)),l.options.responsive&&l.options.responsive.length&&null!==l.options.responsive){s=null;for(o in l.breakpoints)l.breakpoints.hasOwnProperty(o)&&(l.originalSettings.mobileFirst===!1?n<l.breakpoints[o]&&(s=l.breakpoints[o]):n>l.breakpoints[o]&&(s=l.breakpoints[o]));null!==s?null!==l.activeBreakpoint?(s!==l.activeBreakpoint||t)&&(l.activeBreakpoint=s,"unslick"===l.breakpointSettings[s]?l.unslick(s):(l.options=i.extend({},l.originalSettings,l.breakpointSettings[s]),e===!0&&(l.currentSlide=l.options.initialSlide),l.refresh(e)),r=s):(l.activeBreakpoint=s,"unslick"===l.breakpointSettings[s]?l.unslick(s):(l.options=i.extend({},l.originalSettings,l.breakpointSettings[s]),e===!0&&(l.currentSlide=l.options.initialSlide),l.refresh(e)),r=s):null!==l.activeBreakpoint&&(l.activeBreakpoint=null,l.options=l.originalSettings,e===!0&&(l.currentSlide=l.options.initialSlide),l.refresh(e),r=s),e||r===!1||l.$carousel.trigger("breakpoint",[l,r])}},e.prototype.changeSlide=function(e,t){var o,s,n,l=this,r=i(e.target);switch(r.is("a")&&e.preventDefault(),r.is("li")||(r=r.closest("li")),n=l.slideCount%l.options.slidesToScroll!==0,o=n?0:(l.slideCount-l.currentSlide)%l.options.slidesToScroll,e.data.message){case"previous":s=0===o?l.options.slidesToScroll:l.options.slidesToShow-o,l.slideCount>l.options.slidesToShow&&l.slideHandler(l.currentSlide-s,!1,t);break;case"next":s=0===o?l.options.slidesToScroll:o,l.slideCount>l.options.slidesToShow&&l.slideHandler(l.currentSlide+s,!1,t);break;case"index":var a=0===e.data.index?0:e.data.index||r.index()*l.options.slidesToScroll;l.slideHandler(l.checkNavigable(a),!1,t),r.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(i){var e,t,o=this;if(e=o.getNavigableIndexes(),t=0,i>e[e.length-1])i=e[e.length-1];else for(var s in e){if(i<e[s]){i=t;break}t=e[s]}return i},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(i("li",e.$dots).off("click.slick",e.changeSlide),e.options.pauseOnDotsHover===!0&&e.options.autoplay===!0&&i("li",e.$dots).off("mouseenter.slick",i.proxy(e.setPaused,e,!0)).off("mouseleave.slick",i.proxy(e.setPaused,e,!1))),e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide)),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),i(document).off(e.visibilityChange,e.visibility),e.$list.off("mouseenter.slick",i.proxy(e.setPaused,e,!0)),e.$list.off("mouseleave.slick",i.proxy(e.setPaused,e,!1)),e.options.accessibility===!0&&e.$list.off("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&i(e.$slideTrack).children().off("click.slick",e.selectHandler),i(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),i(window).off("resize.slick.slick-"+e.instanceUid,e.resize),i("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),i(window).off("load.slick.slick-"+e.instanceUid,e.setPosition),i(document).off("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpRows=function(){var i,e=this;e.options.rows>1&&(i=e.$slides.children().children(),i.removeAttr("style"),e.$carousel.html(i))},e.prototype.clickHandler=function(i){var e=this;e.shouldClick===!1&&(i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault())},e.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),i(".slick-cloned",t.$carousel).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current slick-first slick-last").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){i(this).attr("style",i(this).data("originalStyling"))}),t.cleanUpRows(),t.$carousel.removeClass("slick-slider"),t.$carousel.removeClass("slick-initialized"),t.unslicked=!0,e||t.$carousel.trigger("destroy",[t])},e.prototype.disableTransition=function(i){var e=this,t={};t[e.transitionType]="",e.options.fade===!1?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},e.prototype.fadeSlide=function(i,e){var t=this;t.cssTransitions===!1?(t.$slides.eq(i).css({zIndex:t.options.zIndex}),t.$slides.eq(i).animate({opacity:1},t.options.speed,t.options.easing,e)):(t.applyTransition(i),t.$slides.eq(i).css({opacity:1,zIndex:t.options.zIndex}),e&&setTimeout(function(){t.disableTransition(i),e.call()},t.options.speed))},e.prototype.fadeSlideOut=function(i){var e=this;e.cssTransitions===!1?e.$slides.eq(i).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(i),e.$slides.eq(i).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(i){var e=this;null!==i&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(i).appendTo(e.$slideTrack),e.reinit())},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){var i=this;return i.currentSlide},e.prototype.getDotCount=function(){var i=this,e=0,t=0,o=0;if(i.options.infinite===!0)for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else if(i.options.centerMode===!0)o=i.slideCount;else for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;return o-1},e.prototype.getLeft=function(i){var e,t,o,s=this,n=0;return s.slideOffset=0,t=s.$slides.first().outerHeight(!0),s.options.infinite===!0?(s.slideCount>s.options.slidesToShow&&(s.slideOffset=s.slideWidth*s.options.slidesToShow*-1,n=t*s.options.slidesToShow*-1),s.slideCount%s.options.slidesToScroll!==0&&i+s.options.slidesToScroll>s.slideCount&&s.slideCount>s.options.slidesToShow&&(i>s.slideCount?(s.slideOffset=(s.options.slidesToShow-(i-s.slideCount))*s.slideWidth*-1,n=(s.options.slidesToShow-(i-s.slideCount))*t*-1):(s.slideOffset=s.slideCount%s.options.slidesToScroll*s.slideWidth*-1,n=s.slideCount%s.options.slidesToScroll*t*-1))):i+s.options.slidesToShow>s.slideCount&&(s.slideOffset=(i+s.options.slidesToShow-s.slideCount)*s.slideWidth,n=(i+s.options.slidesToShow-s.slideCount)*t),s.slideCount<=s.options.slidesToShow&&(s.slideOffset=0,n=0),s.options.centerMode===!0&&s.options.infinite===!0?s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)-s.slideWidth:s.options.centerMode===!0&&(s.slideOffset=0,s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)),e=s.options.vertical===!1?i*s.slideWidth*-1+s.slideOffset:i*t*-1+n,s.options.variableWidth===!0&&(o=s.slideCount<=s.options.slidesToShow||s.options.infinite===!1?s.$slideTrack.children(".slick-slide").eq(i):s.$slideTrack.children(".slick-slide").eq(i+s.options.slidesToShow),e=s.options.rtl===!0?o[0]?(s.$slideTrack.width()-o[0].offsetLeft-o.width())*-1:0:o[0]?o[0].offsetLeft*-1:0,s.options.centerMode===!0&&(o=s.slideCount<=s.options.slidesToShow||s.options.infinite===!1?s.$slideTrack.children(".slick-slide").eq(i):s.$slideTrack.children(".slick-slide").eq(i+s.options.slidesToShow+1),e=s.options.rtl===!0?o[0]?(s.$slideTrack.width()-o[0].offsetLeft-o.width())*-1:0:o[0]?o[0].offsetLeft*-1:0,e+=(s.$list.width()-o.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(i){var e=this;return e.options[i]},e.prototype.getNavigableIndexes=function(){var i,e=this,t=0,o=0,s=[];for(e.options.infinite===!1?i=e.slideCount:(t=e.options.slidesToScroll*-1,o=e.options.slidesToScroll*-1,i=2*e.slideCount);t<i;)s.push(t),t=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,t,o,s=this;return o=s.options.centerMode===!0?s.slideWidth*Math.floor(s.options.slidesToShow/2):0,s.options.swipeToSlide===!0?(s.$slideTrack.find(".slick-slide").each(function(e,n){if(n.offsetLeft-o+i(n).outerWidth()/2>s.swipeLeft*-1)return t=n,!1}),e=Math.abs(i(t).attr("data-slick-index")-s.currentSlide)||1):s.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(i,e){var t=this;t.changeSlide({data:{message:"index",index:parseInt(i)}},e)},e.prototype.init=function(e){var t=this;i(t.$carousel).hasClass("slick-initialized")||(i(t.$carousel).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots()),e&&t.$carousel.trigger("init",[t]),t.options.accessibility===!0&&t.initADA()},e.prototype.initArrowEvents=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.on("click.slick",{message:"previous"},i.changeSlide),i.$nextArrow.on("click.slick",{message:"next"},i.changeSlide))},e.prototype.initDotEvents=function(){var e=this;e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&i("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),e.options.dots===!0&&e.options.pauseOnDotsHover===!0&&e.options.autoplay===!0&&i("li",e.$dots).on("mouseenter.slick",i.proxy(e.setPaused,e,!0)).on("mouseleave.slick",i.proxy(e.setPaused,e,!1))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),i(document).on(e.visibilityChange,i.proxy(e.visibility,e)),e.$list.on("mouseenter.slick",i.proxy(e.setPaused,e,!0)),e.$list.on("mouseleave.slick",i.proxy(e.setPaused,e,!1)),e.options.accessibility===!0&&e.$list.on("keydown.slick",e.keyHandler),e.options.focusOnSelect===!0&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),i(window).on("orientationchange.slick.slick-"+e.instanceUid,i.proxy(e.orientationChange,e)),i(window).on("resize.slick.slick-"+e.instanceUid,i.proxy(e.resize,e)),i("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),i(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),i(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.initUI=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.show(),i.$nextArrow.show()),i.options.dots===!0&&i.slideCount>i.options.slidesToShow&&i.$dots.show(),i.options.autoplay===!0&&i.autoPlay()},e.prototype.keyHandler=function(i){var e=this;i.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===i.keyCode&&e.options.accessibility===!0?e.changeSlide({data:{message:"previous"}}):39===i.keyCode&&e.options.accessibility===!0&&e.changeSlide({data:{message:"next"}}))},e.prototype.lazyLoad=function(){function e(e){i("img[data-lazy]",e).each(function(){var e=i(this),t=i(this).attr("data-lazy"),o=document.createElement("img");o.onload=function(){e.animate({opacity:0},100,function(){e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy").removeClass("slick-loading")})})},o.src=t})}var t,o,s,n,l=this;l.options.centerMode===!0?l.options.infinite===!0?(s=l.currentSlide+(l.options.slidesToShow/2+1),n=s+l.options.slidesToShow+2):(s=Math.max(0,l.currentSlide-(l.options.slidesToShow/2+1)),n=2+(l.options.slidesToShow/2+1)+l.currentSlide):(s=l.options.infinite?l.options.slidesToShow+l.currentSlide:l.currentSlide,n=s+l.options.slidesToShow,l.options.fade===!0&&(s>0&&s--,n<=l.slideCount&&n++)),t=l.$carousel.find(".slick-slide").slice(s,n),e(t),l.slideCount<=l.options.slidesToShow?(o=l.$carousel.find(".slick-slide"),e(o)):l.currentSlide>=l.slideCount-l.options.slidesToShow?(o=l.$carousel.find(".slick-cloned").slice(0,l.options.slidesToShow),e(o)):0===l.currentSlide&&(o=l.$carousel.find(".slick-cloned").slice(l.options.slidesToShow*-1),e(o))},e.prototype.loadSlider=function(){var i=this;i.setPosition(),i.$slideTrack.css({opacity:1}),i.$carousel.removeClass("slick-loading"),i.initUI(),"progressive"===i.options.lazyLoad&&i.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){var i=this;i.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var i=this;i.checkResponsive(),i.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var i=this;i.autoPlayClear(),i.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var i=this;i.paused=!1,i.autoPlay()},e.prototype.postSlide=function(i){var e=this;e.$carousel.trigger("afterChange",[e,i]),e.animating=!1,e.setPosition(),e.swipeLeft=null,e.options.autoplay===!0&&e.paused===!1&&e.autoPlay(),e.options.accessibility===!0&&e.initADA()},e.prototype.prev=e.prototype.slickPrev=function(){var i=this;i.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(i){i.preventDefault()},e.prototype.progressiveLazyLoad=function(){var e,t,o=this;e=i("img[data-lazy]",o.$carousel).length,e>0&&(t=i("img[data-lazy]",o.$carousel).first(),t.attr("src",null),t.attr("src",t.attr("data-lazy")).removeClass("slick-loading").load(function(){t.removeAttr("data-lazy"),o.progressiveLazyLoad(),o.options.adaptiveHeight===!0&&o.setPosition()}).error(function(){t.removeAttr("data-lazy"),o.progressiveLazyLoad()}))},e.prototype.refresh=function(e){var t,o,s=this;o=s.slideCount-s.options.slidesToShow,s.options.infinite||(s.slideCount<=s.options.slidesToShow?s.currentSlide=0:s.currentSlide>o&&(s.currentSlide=o)),t=s.currentSlide,s.destroy(!0),i.extend(s,s.initials,{currentSlide:t}),s.init(),e||s.changeSlide({data:{message:"index",index:t}},!1)},e.prototype.registerBreakpoints=function(){var e,t,o,s=this,n=s.options.responsive||null;if("array"===i.type(n)&&n.length){s.respondTo=s.options.respondTo||"window";for(e in n)if(o=s.breakpoints.length-1,t=n[e].breakpoint,n.hasOwnProperty(e)){for(;o>=0;)s.breakpoints[o]&&s.breakpoints[o]===t&&s.breakpoints.splice(o,1),o--;s.breakpoints.push(t),s.breakpointSettings[t]=n[e].settings}s.breakpoints.sort(function(i,e){return s.options.mobileFirst?i-e:e-i})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.checkResponsive(!1,!0),e.options.focusOnSelect===!0&&i(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses(0),e.setPosition(),e.$carousel.trigger("reInit",[e]),e.options.autoplay===!0&&e.focusHandler()},e.prototype.resize=function(){var e=this;i(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=i(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(i,e,t){var o=this;return"boolean"==typeof i?(e=i,i=e===!0?0:o.slideCount-1):i=e===!0?--i:i,!(o.slideCount<1||i<0||i>o.slideCount-1)&&(o.unload(),t===!0?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(i).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,void o.reinit())},e.prototype.setCSS=function(i){var e,t,o=this,s={};o.options.rtl===!0&&(i=-i),e="left"==o.positionProp?Math.ceil(i)+"px":"0px",t="top"==o.positionProp?Math.ceil(i)+"px":"0px",s[o.positionProp]=i,o.transformsEnabled===!1?o.$slideTrack.css(s):(s={},o.cssTransitions===!1?(s[o.animType]="translate("+e+", "+t+")",o.$slideTrack.css(s)):(s[o.animType]="translate3d("+e+", "+t+", 0px)",o.$slideTrack.css(s)))},e.prototype.setDimensions=function(){var e=this;e.options.vertical===!1?e.options.centerMode===!0&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),e.options.centerMode===!0&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),e.options.vertical===!1&&e.options.variableWidth===!1?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):e.options.variableWidth===!0?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();e.options.variableWidth===!1&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t);var o=0;e.$slideTrack.children(".slick-slide").each(function(e,t){i(t).outerHeight()>o&&(o=i(t).outerHeight())}),e.options.adaptiveHeight===!1&&e.$slideTrack.children(".slick-slide").height(o)},e.prototype.setFade=function(){var e,t=this;t.$slides.each(function(o,s){e=t.slideWidth*o*-1,t.options.rtl===!0?i(s).css({position:"relative",right:e,top:0,zIndex:t.options.zIndex-2,opacity:0}):i(s).css({position:"relative",left:e,top:0,zIndex:t.options.zIndex-2,opacity:0})}),t.$slides.eq(t.currentSlide).css({zIndex:t.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var i=this;if(1===i.options.slidesToShow&&i.options.adaptiveHeight===!0&&i.options.vertical===!1){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(e,t,o){var s,n,l=this;if("responsive"===e&&"array"===i.type(t))for(n in t)if("array"!==i.type(l.options.responsive))l.options.responsive=[t[n]];else{for(s=l.options.responsive.length-1;s>=0;)l.options.responsive[s].breakpoint===t[n].breakpoint&&l.options.responsive.splice(s,1),s--;l.options.responsive.push(t[n])}else l.options[e]=t;o===!0&&(l.unload(),l.reinit())},e.prototype.setPosition=function(){var i=this;i.setDimensions(),i.setHeight(),i.options.fade===!1?i.setCSS(i.getLeft(i.currentSlide)):i.setFade(),i.$carousel.trigger("setPosition",[i])},e.prototype.setProps=function(){var i=this,e=document.body.style;i.positionProp=i.options.vertical===!0?"top":"left","top"===i.positionProp?i.$carousel.addClass("slick-vertical"):i.$carousel.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||i.options.useCSS===!0&&(i.cssTransitions=!0),i.options.fade&&("number"==typeof i.options.zIndex?i.options.zIndex<3&&(i.options.zIndex=3):i.options.zIndex=i.defaults.zIndex),void 0!==e.OTransform&&(i.animType="OTransform",i.transformType="-o-transform",i.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.MozTransform&&(i.animType="MozTransform",i.transformType="-moz-transform",i.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(i.animType=!1)),void 0!==e.webkitTransform&&(i.animType="webkitTransform",i.transformType="-webkit-transform",i.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.msTransform&&(i.animType="msTransform",i.transformType="-ms-transform",i.transitionType="msTransition",void 0===e.msTransform&&(i.animType=!1)),void 0!==e.transform&&i.animType!==!1&&(i.animType="transform",i.transformType="transform",i.transitionType="transition"),i.transformsEnabled=i.options.useTransform&&null!==i.animType&&i.animType!==!1},e.prototype.setSlideClasses=function(e){var t,o,s,n,l=this;o=l.$carousel.find(".slick-slide").removeClass("slick-active slick-center slick-current slick-first slick-last").attr("aria-hidden","true"),l.$slides.eq(e).addClass("slick-current"),l.options.centerMode===!0?(t=Math.floor(l.options.slidesToShow/2),l.options.infinite===!0&&(e>=t&&e<=l.slideCount-1-t?l.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(s=l.options.slidesToShow+e,o.slice(s-t+1,s+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?o.eq(o.length-1-l.options.slidesToShow).addClass("slick-center"):e===l.slideCount-1&&o.eq(l.options.slidesToShow).addClass("slick-center")),l.$slides.eq(e).addClass("slick-center")):e>=0&&e<=l.slideCount-l.options.slidesToShow?l.$slides.slice(e,e+l.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):o.length<=l.options.slidesToShow?o.addClass("slick-active").attr("aria-hidden","false"):(n=l.slideCount%l.options.slidesToShow,s=l.options.infinite===!0?l.options.slidesToShow+e:e,l.options.slidesToShow==l.options.slidesToScroll&&l.slideCount-e<l.options.slidesToShow?o.slice(s-(l.options.slidesToShow-n),s+n).addClass("slick-active").attr("aria-hidden","false"):o.slice(s,s+l.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),i(".slick-active").eq(0).addClass("slick-first"),i(".slick-active").last().addClass("slick-last"),"ondemand"===l.options.lazyLoad&&l.lazyLoad()},e.prototype.setupInfinite=function(){var e,t,o,s=this;if(s.options.fade===!0&&(s.options.centerMode=!1),s.options.infinite===!0&&s.options.fade===!1&&(t=null,s.slideCount>s.options.slidesToShow)){for(o=s.options.centerMode===!0?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-o;e-=1)t=e-1,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(e=0;e<o;e+=1)t=e,i(s.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){i(this).attr("id","")})}},e.prototype.setPaused=function(i){var e=this;e.options.autoplay===!0&&e.options.pauseOnHover===!0&&(e.paused=i,i?e.autoPlayClear():e.autoPlay())},e.prototype.selectHandler=function(e){var t=this,o=i(e.target).is(".slick-slide")?i(e.target):i(e.target).parents(".slick-slide"),s=parseInt(o.attr("data-slick-index"));return s||(s=0),t.slideCount<=t.options.slidesToShow?(t.setSlideClasses(s),void t.asNavFor(s)):void t.slideHandler(s)},e.prototype.slideHandler=function(i,e,t){var o,s,n,l,r=null,a=this;if(e=e||!1,(a.animating!==!0||a.options.waitForAnimate!==!0)&&!(a.options.fade===!0&&a.currentSlide===i||a.slideCount<=a.options.slidesToShow))return e===!1&&a.asNavFor(i),
o=i,r=a.getLeft(o),l=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?l:a.swipeLeft,a.options.infinite===!1&&a.options.centerMode===!1&&(i<0||i>a.getDotCount()*a.options.slidesToScroll)?void(a.options.fade===!1&&(o=a.currentSlide,t!==!0?a.animateSlide(l,function(){a.postSlide(o)}):a.postSlide(o))):a.options.infinite===!1&&a.options.centerMode===!0&&(i<0||i>a.slideCount-a.options.slidesToScroll)?void(a.options.fade===!1&&(o=a.currentSlide,t!==!0?a.animateSlide(l,function(){a.postSlide(o)}):a.postSlide(o))):(a.options.autoplay===!0&&clearInterval(a.autoPlayTimer),s=o<0?a.slideCount%a.options.slidesToScroll!==0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+o:o>=a.slideCount?a.slideCount%a.options.slidesToScroll!==0?0:o-a.slideCount:o,a.animating=!0,a.$carousel.trigger("beforeChange",[a,a.currentSlide,s]),n=a.currentSlide,a.currentSlide=s,a.setSlideClasses(a.currentSlide),a.updateDots(),a.updateArrows(),a.options.fade===!0?(t!==!0?(a.fadeSlideOut(n),a.fadeSlide(s,function(){a.postSlide(s)})):a.postSlide(s),void a.animateHeight()):void(t!==!0?a.animateSlide(r,function(){a.postSlide(s)}):a.postSlide(s)))},e.prototype.startLoad=function(){var i=this;i.options.arrows===!0&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.hide(),i.$nextArrow.hide()),i.options.dots===!0&&i.slideCount>i.options.slidesToShow&&i.$dots.hide(),i.$carousel.addClass("slick-loading")},e.prototype.swipeDirection=function(){var i,e,t,o,s=this;return i=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,t=Math.atan2(e,i),o=Math.round(180*t/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0?s.options.rtl===!1?"left":"right":o<=360&&o>=315?s.options.rtl===!1?"left":"right":o>=135&&o<=225?s.options.rtl===!1?"right":"left":s.options.verticalSwiping===!0?o>=35&&o<=135?"left":"right":"vertical"},e.prototype.swipeEnd=function(i){var e,t=this;if(t.dragging=!1,t.shouldClick=!(t.touchObject.swipeLength>10),void 0===t.touchObject.curX)return!1;if(t.touchObject.edgeHit===!0&&t.$carousel.trigger("edge",[t,t.swipeDirection()]),t.touchObject.swipeLength>=t.touchObject.minSwipe)switch(t.swipeDirection()){case"left":e=t.options.swipeToSlide?t.checkNavigable(t.currentSlide+t.getSlideCount()):t.currentSlide+t.getSlideCount(),t.slideHandler(e),t.currentDirection=0,t.touchObject={},t.$carousel.trigger("swipe",[t,"left"]);break;case"right":e=t.options.swipeToSlide?t.checkNavigable(t.currentSlide-t.getSlideCount()):t.currentSlide-t.getSlideCount(),t.slideHandler(e),t.currentDirection=1,t.touchObject={},t.$carousel.trigger("swipe",[t,"right"])}else t.touchObject.startX!==t.touchObject.curX&&(t.slideHandler(t.currentSlide),t.touchObject={})},e.prototype.swipeHandler=function(i){var e=this;if(!(e.options.swipe===!1||"ontouchend"in document&&e.options.swipe===!1||e.options.draggable===!1&&i.type.indexOf("mouse")!==-1))switch(e.touchObject.fingerCount=i.originalEvent&&void 0!==i.originalEvent.touches?i.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,e.options.verticalSwiping===!0&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),i.data.action){case"start":e.swipeStart(i);break;case"move":e.swipeMove(i);break;case"end":e.swipeEnd(i)}},e.prototype.swipeMove=function(i){var e,t,o,s,n,l=this;return n=void 0!==i.originalEvent?i.originalEvent.touches:null,!(!l.dragging||n&&1!==n.length)&&(e=l.getLeft(l.currentSlide),l.touchObject.curX=void 0!==n?n[0].pageX:i.clientX,l.touchObject.curY=void 0!==n?n[0].pageY:i.clientY,l.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(l.touchObject.curX-l.touchObject.startX,2))),l.options.verticalSwiping===!0&&(l.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(l.touchObject.curY-l.touchObject.startY,2)))),t=l.swipeDirection(),"vertical"!==t?(void 0!==i.originalEvent&&l.touchObject.swipeLength>4&&i.preventDefault(),s=(l.options.rtl===!1?1:-1)*(l.touchObject.curX>l.touchObject.startX?1:-1),l.options.verticalSwiping===!0&&(s=l.touchObject.curY>l.touchObject.startY?1:-1),o=l.touchObject.swipeLength,l.touchObject.edgeHit=!1,l.options.infinite===!1&&(0===l.currentSlide&&"right"===t||l.currentSlide>=l.getDotCount()&&"left"===t)&&(o=l.touchObject.swipeLength*l.options.edgeFriction,l.touchObject.edgeHit=!0),l.options.vertical===!1?l.swipeLeft=e+o*s:l.swipeLeft=e+o*(l.$list.height()/l.listWidth)*s,l.options.verticalSwiping===!0&&(l.swipeLeft=e+o*s),l.options.fade!==!0&&l.options.touchMove!==!1&&(l.animating===!0?(l.swipeLeft=null,!1):void l.setCSS(l.swipeLeft))):void 0)},e.prototype.swipeStart=function(i){var e,t=this;return 1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow?(t.touchObject={},!1):(void 0!==i.originalEvent&&void 0!==i.originalEvent.touches&&(e=i.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==e?e.pageX:i.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==e?e.pageY:i.clientY,void(t.dragging=!0))},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var i=this;null!==i.$slidesCache&&(i.unload(),i.$slideTrack.children(this.options.slide).detach(),i.$slidesCache.appendTo(i.$slideTrack),i.reinit())},e.prototype.unload=function(){var e=this;i(".slick-cloned",e.$carousel).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current slick-first slick-last").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(i){var e=this;e.$carousel.trigger("unslick",[e,i]),e.destroy()},e.prototype.updateArrows=function(){var i,e=this;i=Math.floor(e.options.slidesToShow/2),e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&e.options.centerMode===!1?(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):e.currentSlide>=e.slideCount-1&&e.options.centerMode===!0&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var i=this;null!==i.$dots&&(i.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),i.$dots.find("li").eq(Math.floor(i.currentSlide/i.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},e.prototype.visibility=function(){var i=this;document[i.hidden]?(i.paused=!0,i.autoPlayClear()):i.options.autoplay===!0&&(i.paused=!1,i.autoPlay())},e.prototype.initADA=function(){var e=this;e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),e.$slideTrack.attr("role","listbox"),e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(t){i(this).attr({role:"option","aria-describedby":"slick-slide"+e.instanceUid+t})}),null!==e.$dots&&e.$dots.attr("role","tablist").find("li").each(function(t){i(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+e.instanceUid+t,id:"slick-slide"+e.instanceUid+t})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),e.activateADA()},e.prototype.activateADA=function(){var i=this;i.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.focusHandler=function(){var e=this;e.$carousel.on("focus.slick blur.slick","*",function(t){t.stopImmediatePropagation();var o=i(this);setTimeout(function(){e.isPlay&&(o.is(":focus")?(e.autoPlayClear(),e.paused=!0):(e.paused=!1,e.autoPlay()))},0)})},i.fn.slick=function(){var i,t,o=this,s=arguments[0],n=Array.prototype.slice.call(arguments,1),l=o.length;for(i=0;i<l;i++)if("object"==typeof s||"undefined"==typeof s?o[i].slick=new e(o[i],s):t=o[i].slick[s].apply(o[i].slick,n),"undefined"!=typeof t)return t;return o}});
!function(t){"use strict";var n=t('<div dir="rtl" style="font-size: 14px; width: 4px; height: 1px; position: absolute; top: -1000px; overflow: scroll">ABCD</div>').appendTo("body")[0],r="reverse";n.scrollLeft>0?r="default":(n.scrollLeft=1,0===n.scrollLeft&&(r="negative")),t(n).remove(),t.support.rtlScrollType=r}(jQuery),function(t){t.fn.tableHeadFixer=function(n){function r(){function r(){var n=t(u.table);if(u.head){if(u.left>0){var r=n.find("thead tr");r.each(function(n,r){f(r,function(n){t(n).css("z-index",u["z-index"]+1)})})}if(u.right>0){var r=n.find("thead tr");r.each(function(n,r){s(r,function(n){t(n).css("z-index",u["z-index"]+1)})})}}if(u.foot){if(u.left>0){var r=n.find("tfoot tr");r.each(function(n,r){f(r,function(n){t(n).css("z-index",u["z-index"])})})}if(u.right>0){var r=n.find("tfoot tr");r.each(function(n,r){s(r,function(n){t(n).css("z-index",u["z-index"])})})}}}function i(){var n=t(u.parent),r=t(u.table);n.append(r),n.css({"overflow-x":"auto","overflow-y":"auto"}),n.scroll(function(){var r=n[0].scrollWidth,i=n[0].clientWidth,o=n[0].scrollHeight,e=n[0].clientHeight,l=n.scrollTop(),a=n.scrollLeft();u.head&&this.find("thead tr > *").css("top",l),u.foot&&this.find("tfoot tr > *").css("bottom",o-e-l),u.left>0&&u.leftColumns.css("left",a),u.right>0&&("default"===t.support.rtlScrollType?u.rightColumns.css("right",r-i-a):"reverse"===t.support.rtlScrollType?u.rightColumns.css("right",a):u.rightColumns.css("right",Math.abs(a)))}.bind(r))}function o(){var n=t(u.table).find("thead"),r=(n.find("tr"),n.find("tr > *"));c(r),r.css({position:"relative"})}function e(){var n=t(u.table).find("tfoot"),r=(n.find("tr"),n.find("tr > *"));c(r),r.css({position:"relative"})}function l(){var n=t(u.table);u.leftColumns=t();var r=n.find("tr");r.each(function(t,n){f(n,function(t){u.leftColumns=u.leftColumns.add(t)})});var i=u.leftColumns;i.each(function(n,r){var r=t(r);c(r),r.css({position:"relative"})})}function a(){var n=t(u.table);u.right;u.rightColumns=t();var r=n.find("tr");r.each(function(t,n){s(n,function(t){u.rightColumns=u.rightColumns.add(t)})});var i=u.rightColumns;i.each(function(n,r){var r=t(r);c(r),r.css({position:"relative"})})}function c(n){n.each(function(n,r){var r=t(r),i=t(r).parent(),o=r.css("background-color");o="transparent"==o||"rgba(0, 0, 0, 0)"==o?null:o;var e=i.css("background-color");e="transparent"==e||"rgba(0, 0, 0, 0)"==e?null:e;var l=e?e:"white";l=o?o:l,r.css("background-color",l)})}function f(n,r){for(var i=u.left,o=u.direction,e=1,l=1;l<=i;l+=e){var a=e>1?l-1:l;if("ltr"===o)var c=t(n).find("> *:nth-child("+a+")");else var c=t(n).find("> *:nth-last-child("+a+")");var f=c.prop("colspan");c.cellPos().left<i&&r(c),e=f}}function s(n,r){for(var i=u.right,o=u.direction,e=1,l=1;l<=i;l+=e){var a=e>1?l-1:l;if("ltr"===o)var c=t(n).find("> *:nth-last-child("+a+")");else var c=t(n).find("> *:nth-child("+a+")");var f=c.prop("colspan");r(c),e=f}}var d={head:!0,foot:!1,left:0,right:0,direction:"ltr","z-index":0},u=t.extend({},d,n);u.table=this,u.parent=t(u.table).parent(),i(),1==u.head&&o(),1==u.foot&&e(),u.left>0&&l(),u.right>0&&a(),r(),t(u.parent).trigger("scroll"),t(window).resize(function(){t(u.parent).trigger("scroll")})}return this.each(function(){r.call(this)})}}(jQuery),function(t){function n(n){var r=[];n.children("tr").each(function(n,i){t(i).children("td, th").each(function(i,o){var e,l,a=t(o),c=0|a.attr("colspan"),f=0|a.attr("rowspan");for(c=c?c:1,f=f?f:1;r[n]&&r[n][i];++i);for(e=i;e<i+c;++e)for(l=n;l<n+f;++l)r[l]||(r[l]=[]),r[l][e]=!0;var s={top:n,left:i};a.data("cellPos",s)})})}t.fn.cellPos=function(t){var r=this.first(),i=r.data("cellPos");if(!i||t){var o=r.closest("table, thead, tbody, tfoot");n(o)}return i=r.data("cellPos")}}(jQuery);
function updateQueryString(e,t,o){o||(o=window.location.href);var n,r=new RegExp("([?&])"+e+"=.*?(&|#|$)(.*)","gi");if(r.test(o))return"undefined"!=typeof t&&null!==t?o.replace(r,"$1"+e+"="+t+"$2$3"):(n=o.split("#"),o=n[0].replace(r,"$1$3").replace(/(&|\?)$/,""),"undefined"!=typeof n[1]&&null!==n[1]&&(o+="#"+n[1]),o);if("undefined"!=typeof t&&null!==t){var i=o.indexOf("?")!==-1?"&":"?";return n=o.split("#"),o=n[0]+i+e+"="+t,"undefined"!=typeof n[1]&&null!==n[1]&&(o+="#"+n[1]),o}return o}var videoCarousel,headerScroller,mobileMenu,resizeHelper;jQuery(document).ready(function(){function e(){var e=window.getComputedStyle(document.body,":before").getPropertyValue("content");try{var t=$("main").find("section.hero-banner");t.each(function(){var e=$(this).attr("id");new ScrollPast(e,40,500)})}catch(o){console.error("Error loading module ScrollPast",o)}try{new SelectRedirect("auto-redirect")}catch(o){n("SelectRedirect",o)}try{new RowLinkFollower(".module-table table, .rtf table")}catch(o){n("RowLinkFollower",o)}try{headerScroller=new HeaderScroller}catch(o){n("HeaderScroller",o)}try{new BackToTop}catch(o){n("BackToTop",o)}try{new ContactPanel}catch(o){n("ContactPanel",o)}try{mobileMenu=new MobileMenu}catch(o){n("MobileMenu",o)}try{new Navigation}catch(o){n("Navigation",o)}try{new VideoBackdrop}catch(o){n("VideoBackdrop",o)}try{videoCarousel=new VideoCarousel}catch(o){n("VideoCarousel",o)}try{new VideoLinker({holder:"video-holder",links:"video-link"})}catch(o){n("VideoLinker",o)}try{new CookieLaw({cookieName:"kone-cookie"})}catch(o){n("CookieLaw",o)}try{resizeHelper=new ResizeHelper}catch(o){n("ResizeHelper",o)}try{var r=jQuery(".module-table table, .rtf table");r.tablesorter&&e.indexOf("handheld")==-1&&r.tablesorter()}catch(o){n("TableSorter",o)}try{if(jQuery(".content-filter-component").parents(".module-news").length){new ContentFilter(resizeHelper)}}catch(o){n("ContentFilter",o)}try{if(jQuery(".content-filter-component").parents(".module-download-filter").length){new ContentFilter(resizeHelper)}}catch(o){n("ContentFilter",o)}try{if(jQuery(".content-filter-component").parents(".module-publication-center:not(.module-download-filter)").length){new PublicationContentFilter(resizeHelper)}}catch(o){n("ContentFilter",o)}try{jQuery(".sub-module-prindextable").each(function(e,t){new PressReleaseIndexTable(t.id)})}catch(o){n("PressReleaseIndexTable",o)}try{jQuery("section.module-latest-press-releases").each(function(e,t){new LatestPressReleases(t.id)})}catch(o){n("LatestPressReleases",o)}try{jQuery("section.news-and-references-carousel").each(function(e,t){new NewsAndReferencesCarousel(t.id)})}catch(o){n("NewsAndReferencesCarousel",o)}try{var i=$("section.module-office-search-map").attr("data-region")||"",a=$("section.module-office-search-map").attr("data-countrycode")||"";new OfficeLocatorService({mapId:CONFIG.OLS.mapId,placeHolderIcon:CONFIG.OLS.icon||"",region:i,countryCode:a,useMockData:!1})}catch(o){n("OfficeLocatorService",o)}try{new HistoryFilter}catch(o){n("HistoryFilter",o)}}function t(e,t){var o=jQuery("body").data("cdn-img");t&&$("<img/>").attr("src",t).error(function(){$(this).remove(),o&&(t=t.replace(o,"/"===o.slice(-1)?"/":"")),e.style.backgroundImage="url('"+t+"')"}).load(function(){$(this).remove(),e.style.backgroundImage="url('"+t+"')"})}function o(){for(var e=(window.getComputedStyle(document.body,":before").getPropertyValue("content"),document.querySelectorAll("*[data-pattern]")),o=0;o<e.length;o++)if(e[o].hasAttribute("data-pattern")){var n=e[o].getAttribute("data-pattern");t(e[o],n)}}function n(e,t){console.error("Error occured while loading module "+e),console.error("Make sure script is present."),console.error(t)}function r(){if(!location.hash)return!1;var e=$("#item-"+location.hash.slice(1));if(!e.length)return!1;var t=$("section.navigation").outerHeight();return $("html, body").animate({scrollTop:e.offset().top-t},1e3),!1}function i(){$(".wForm .inputWrapper .oneChoice input[type=checkbox]").parent().addClass("oneChoiceCheckbox"),$(".wForm .inputWrapper .oneChoice input[type=radio]").parent().addClass("oneChoiceRadio")}CONFIG&&(CONFIG.baseurl=jQuery("body").data("mock-uri")||window.location.href.split(location.pathname)[0]),o(),e(),i(),optimizedResize.add(function(){o()}),$(window).load(function(){r();try{new Carousel(".module-carousel",videoCarousel)}catch(e){n("Carousel",e)}objectFitImages()}),$("form#tfa_0").on("submit",function(){var e=$("aside");$("aside").remove(),setTimeout(function(){e.insertBefore("main"),$(window).scrollTop($(window).scrollTop()-100)},250)})});var optimizedResize=function(){function e(){r||(r=!0,window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,66))}function t(){n.forEach(function(e){e()}),r=!1}function o(e){e&&n.push(e)}var n=[],r=!1;return{add:function(t){n.length||window.addEventListener("resize",e),o(t)}}}(),optimizedScroll=function(){function e(){r||(r=!0,window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,66))}function t(){n.forEach(function(e){e()}),r=!1}function o(e){e&&n.push(e)}var n=[],r=!1;return{add:function(t){n.length||window.addEventListener("scroll",e),o(t)}}}();


"use strict";var BackToTop=function(){function t(){this.selector=".btt",this.position="left",this.registerResize(),this.registerScroll(),this.registerClick(),this.positionBackToTop(),this.position="ltr"===jQuery("html").attr("dir")?"left":"right"}return t.prototype.positionBackToTop=function(){this.scrollTop=jQuery(document).scrollTop(),this.foldSize>this.scrollTop?jQuery(this.selector).fadeOut():jQuery(this.selector).fadeIn()},t.prototype.registerResize=function(){var t=this;this.foldSize=jQuery(window).height();t.position;optimizedResize.add(function(){t.foldSize=jQuery(window).height();var i=jQuery(window).width();if(i>1440){var o=(i-1440)/2;jQuery(this.selector).css({position:o+30+"px"})}t.positionBackToTop()})},t.prototype.registerScroll=function(){var t=this;optimizedScroll.add(function(){t.positionBackToTop()})},t.prototype.registerClick=function(){jQuery(this.selector).on("click",function(){return jQuery("html, body").animate({scrollTop:0},1e3),!1})},t}();
"use strict";var Carousel=function(){function s(s,o){this.direction="rtl"===jQuery("html").attr("dir"),this.selector=s,this.videoCarousel=o,this.setupCarousel()}return s.prototype.setupCarousel=function(){var s=window.getComputedStyle(document.body,":before").getPropertyValue("content");s.indexOf("handheld")!=-1&&jQuery(".module-process").addClass(this.selector);var o=this;jQuery(this.selector).each(function(){var s=jQuery(this).data("slick");s||(s={slidesToShow:1}),jQuery(this).slick({pauseOnDotsHover:!0,respondTo:"slider",rtl:o.direction,customPaging:function(s,o){return'<a href="#" data-role="none" role="button" aria-required="false" tabindex="0"><span class="sr-only">'+(o+1)+"</span></a>"},prevArrow:'<button class="round left slick-prev"></button>',nextArrow:'<button class="round right slick-next"></button>',responsive:o.slickResponsive(s.slidesToShow,s.dots)});var e=this.slick.options.slidesToShow;e>1&&jQuery(this).addClass("multiple")}),jQuery(this.selector).on("beforeChange",function(s,e,t,r){null!==o.videoCarousel&&o.videoCarousel.stopPlayers()})},s.prototype.slickResponsive=function(s,o){return s>1?[{breakpoint:980,settings:{arrows:!1,dots:void 0===o||o,slidesToShow:2}},{breakpoint:750,settings:{arrows:!1,dots:void 0===o||o,slidesToShow:1}}]:[{breakpoint:99999,settings:{dots:void 0===o||o,arrows:!0}},{breakpoint:980,settings:{dots:void 0===o||o,arrows:!1,slidesToShow:1}},{breakpoint:750,settings:{dots:void 0===o||o,arrows:!1,slidesToShow:1}}]},s}();
var ContactPanel=function(){function t(){this.main="main",this.controlPanel="#control-panel",this.selector=".contact-panel > form > section",this.panelTab=".contact-panel > form > section > div > div",this.registerResize(),this.registerScroll(),this.setupContactPanel(),this.registerContactClick()}return t.prototype.setupContactPanel=function(){jQuery(this.selector).css("width",jQuery(this.main).width()+"px"),jQuery(this.controlPanel).prop("checked")&&this.openContactPanel()},t.prototype.registerContactClick=function(){var t=this;jQuery(".contact-panel > form>input").click(function(e){e.stopPropagation(),jQuery(document).unbind("click",this.closeContactPanel),jQuery("main, footer").toggleClass("hide-content"),jQuery("main, footer").hasClass("hide-content")&&t.setClickAway()})},t.prototype.openContactPanel=function(){jQuery("main, footer").addClass("hide-content"),this.setClickAway()},t.prototype.closeContactPanel=function(t){jQuery(t.target).parents(".panel-control, .panel-blocks").length||jQuery(".contact-panel > form>input").trigger("click")},t.prototype.setClickAway=function(){jQuery(document).unbind("click",this.closeContactPanel),jQuery(document).on("click",jQuery.proxy(this.closeContactPanel,this))},t.prototype.setContactPanel=function(t,e){jQuery(this.selector).css({top:t+e+"px"})},t.prototype.registerScroll=function(){var t=this;this.topNavHeight=jQuery(".topnav").outerHeight(),optimizedScroll.add(function(){var e=jQuery(document).scrollTop();t.setContactPanel(e,t.topNavHeight)})},t.prototype.registerResize=function(){var t=this;optimizedResize.add(function(){t.setupContactPanel()})},t}();
"use strict";var ContentFilter=function(){function e(e){var t=this;this.contentItems=[],this.filters=[],this.filterTitle="Any filter";var r=this;r.cdnPrefix=jQuery("body").attr("data-cdn-img")||"",r.resizer=e,r.processUrlParameters(),r.setupPage(),r.retrieveItems(),jQuery(window).on("popstate",jQuery.proxy(function(e){null!==e.state&&(r.getFilters(),r.checkFilters(),t.contentItems=[],r.retrieveItems())},r))}return e.prototype.setupPage=function(){var e=this;e.getFilters(),e.checkFilters(),jQuery('.sub-module-filter input[type="checkbox"]').change(function(t){e.changeFilters(t)}),jQuery(".load-more > button").click(function(t){return e.loadMore()}),jQuery(".resetFilter").click(function(t){jQuery(t.target).closest("ul").find('input[type="checkbox"]').each(function(t,r){var n=jQuery(r);n.prop("checked")&&(n.prop("checked",!1),e.popFilterElem(n.context))}),e.resetSelection(t)})},e.prototype.checkFilters=function(){var e=this;jQuery('.sub-module-filter input[type="checkbox"]').each(function(t,r){var n=jQuery(r),o=n.attr("name"),i=n.attr("value");n.prop("checked",!1),e.filters.forEach(function(e){e.prop===o&&e.tags===i&&n.prop("checked",!0)})})},e.prototype.getFilters=function(){function e(){var e=[];try{var t=window.location.href.split("?");if(t.length&&t.length>1){var r=t[1].replace(/#/g,""),o=r.split("&");e=o.filter(function(e){return n.indexOf(e.split("=")[0])>-1}).map(function(e){var t=e.split("=");return{prop:t[0],tags:t[1]}})}return e}catch(i){return console.error("Error converting url to tags",i),e}}var t=this,r=jQuery('.sub-module-filter input[type="checkbox"]'),n=Array.from(r.map(function(e,t){return String(jQuery(t).attr("name"))}).sort().filter(function(e,t){return t>0?!(e===e[t-1]):e}));return t.filters=e(),t.filters},e.prototype.processUrlParameters=function(){this.baseurl=jQuery(".content-filter-component").attr("data-baseurl"),this.dataCount=+jQuery(".content-filter-component").attr("data-count")||8,this.noResultsMessage=jQuery(".content-filter-component").attr("data-noresults")||"Sorry no results have been found.",this.defaultFilter=jQuery(".content-filter-component").attr("data-filter")||""},e.prototype.updateResults=function(){var e=this,t=jQuery(".results-holder").parents(".module-news").length?"newsAndReferences":"downloads",r=this.contentItems.map(function(r){try{var n=JSON.search(r,"//ImageForTeaser//Url").shift()||"",o=JSON.search(r,"//ImageForTeaser/AltText").shift()||"",i=JSON.search(r,"//ImageForTeaser/Version").shift()||"",s=r.Title||"",a=r.Introduction||"",l=r.LinkToDetailPage,u="#"+JSON.search(r,"//Tags/Keyword/Title").sort().join(" #").toUpperCase();if(""===n&&(n="/Content/Kone_default_teaser.jpg"),""===o&&(o=s),"newsAndReferences"===t)return e.cdnPrefix&&(n=e.cdnPrefix+n+"?v="+i),'<div>\n                                    <a href="'+l+'">\n                                        <article>\n                                            <img src="'+n+'" alt="'+o+'">\n                                            <h3>'+s+"</h3>\n                                            <p>"+a+'</p>\n                                            <div class="tags">'+u+"</div>\n                                        </article>\n                                        <span></span>\n                                    </a>\n                                </div>";var c=r.DownloadBinary.Multimedia.Url||"",p=r.Description||"";return'<div>\n                                    <a href="'+c+'" class="downloads">\n                                        <article>\n                                            <h3>'+s+"</h3>\n                                            <p>"+p+"</p>\n                                        </article>\n                                    </a>\n                                </div>"}catch(h){return console.error("Malformed result. ignored",h),""}}).join("");jQuery(".results-holder").html(r),this.resizer.setupTags()},Object.defineProperty(e.prototype,"filterString",{get:function(){try{var e=Array.from(this.filters.map(function(e,t){var r=e.prop;return e.tags?"&"+r+"="+e.tags:""})).join("");return e}catch(t){return console.error("Error building filter string. Check html.",t),""}},enumerable:!0,configurable:!0}),e.prototype.retrieveItems=function(){var e,t=this,r=this.contentItems.length||0;if(e=this.defaultFilter?this.defaultFilter.replace("&","").replace("?","").replace(/&/g,","):this.filterString.replace("&","").replace(/&/g,","),this.baseurl&&""!=this.baseurl&&"#"!=this.baseurl){jQuery(".loader").clone().appendTo(".results-holder").addClass("active");var n=this.baseurl+r+"/"+this.dataCount+"/"+e,o={dataType:"json",url:n,success:function(e){if(e.length){var r=e.map(function(e){return e.labels=JSON.search(e,"//CategoryName/../Keyword/Key").sort().filter(function(e,t){return t>0?e===e[t-1]:e}),e});t.contentItems=t.contentItems.concat(r),t.updateResults()}jQuery(".loader.active").remove(),(!e.length||e.length<t.dataCount)&&(jQuery(".sub-module-load-more").hide(),(!t.contentItems.length||t.contentItems.length<=0)&&jQuery(".results-holder").html("<div style='flex: 0 0 100%; text-align:center;'><p>"+t.noResultsMessage+"</p></div>"))},error:function(e){console.error("Error getting content",e),jQuery(".loader.active").remove()}};jQuery.ajax(o)}},e.prototype.clearFilters=function(){this.filters.forEach(function(e){e.checked=""}),this.contentItems=[],this.retrieveItems()},e.prototype.updateFilters=function(e){var t=this;e.checked?t.pushFilterElem(e):t.popFilterElem(e)},e.prototype.pushFilterElem=function(e){var t={prop:e.name,tags:e.value};this.filters.push(t)},e.prototype.popFilterElem=function(e){this.filters=this.filters.filter(function(t){return t.prop!=e.name||t.tags!=e.value})},e.prototype.updateUrl=function(){var e=(jQuery(".results-holder > div").length||0,document.title,{}),t=window.location.href.split("?"),r=t[0].replace(/#/g,""),n=r+"?"+this.filterString;window.history.pushState(e,"KoneTest",n)},e.prototype.changeFilters=function(e){this.updateFilters(e.target),this.updateUrl(),this.contentItems=[],this.retrieveItems(),jQuery(".sub-module-load-more").show()},e.prototype.resetSelection=function(e){this.contentItems=[],this.updateUrl(),this.retrieveItems(),e.preventDefault(),jQuery(".sub-module-load-more").show()},e.prototype.loadMore=function(){this.retrieveItems()},e}();
"use strict";var CookieLaw=function(){function o(o){this.cookie=o;jQuery(".cookie-law").attr("data-cookie-url");jQuery(".cookie-law a.cta").click(function(){var o=jQuery(this).attr("href");return jQuery(".cookie-law").addClass("hide"),jQuery.ajax({url:o,success:function(o){},error:function(){}}),!1})}return o.prototype.hasValidCookie=function(){var o=this;return!!document.cookie.replace(/ /g,"").split(";").filter(function(e){return e.split("=")[0]===o.cookie.cookieName}).shift()},o}();
var HeaderScroller=function(){function e(){this.fixed=!1,this.mobile=!1,this.header=".container > header",this.navSection="section.navigation",this.fixedHeader=".container>header.fixed",this.outerLogo=".container > header > section.navigation > .logo",this.outerSearch=".container > header > section.navigation > .search.screen",this.mobileSearch=".container > header > section.navigation > .search.handheld, section.navigation > .mobile-bg",this.mobileMenu=".container > header > section.navigation > nav, .container > header > section.navigation > ul.handheld",this.mobileNameLogo=".container > header > section.navigation > .logo, .container > header > section.navigation > .name.handheld",this.contentElements="main, footer",this.contactPanel=".contact-panel > form > section",this.registerScroll()}return e.prototype.setContactPanel=function(e,t){if(jQuery("#control-panel").is(":checked")){var n=e+t,o=jQuery(this.contactPanel).offset().top;n<o&&jQuery(this.contactPanel).css({top:e+t+"px"})}else jQuery(this.contactPanel).css({top:e+t+"px"})},e.prototype.registerScroll=function(){var e=this,t=jQuery(".topnav").outerHeight();optimizedScroll.add(function(){var n=jQuery(document).scrollTop();e.setContactPanel(n,t)})},e}();
"use strict";var HeaderScroller=function(){function t(){this.topnav=jQuery("header .topnav"),this.navigation=jQuery("header .navigation"),this.containerheader=jQuery(".container > header"),this.logo=jQuery("header .navigation div.logo"),this.state="default",this.topNavOuterHeight=this.topnav.outerHeight(),this.respondTo=window.getComputedStyle(document.body,":before").getPropertyValue("content"),this.headerType=this.getHeaderType(),this.registerScroll(),this.setupHeader(!0),window.addEventListener("orientationchange",this.doOnOrientationChange),jQuery(document).ready(function(){headerScroller.setupNavigationHeights()}),optimizedResize.add(jQuery.proxy(function(){this.setupNavigationHeights()},this))}return t.prototype.doOnOrientationChange=function(){window.location.reload(!1)},t.prototype.getHeaderType=function(){return this.containerheader.hasClass("campaign-header")?"campaign":"normal"},t.prototype.registerScroll=function(){var t=this;optimizedScroll.add(function(){t.setHeader()})},t.prototype.registerResize=function(){this.setupHeader(!1)},t.prototype.setupHeader=function(t){this.respondTo=window.getComputedStyle(document.body,":before").getPropertyValue("content"),this.setupNavigationHeights(),t&&this.setHeader()},t.prototype.setHeader=function(){this.topNavOuterHeight=this.topnav.outerHeight();var t=window.pageYOffset;if(this.respondTo.indexOf("handheld")==-1&&this.respondTo.indexOf("medium-screen")==-1&&this.respondTo.indexOf("tablet-portrait")==-1){var e=t>this.topNavOuterHeight;"default"===this.state&&e?(this.stickyNavigation(),this.setupNavigationHeights(),this.state="sticky"):"sticky"===this.state&&e===!1&&(this.navigation.css({position:"relative",transform:"translateY(0)","-moz-transform":"translateY(0)","-webkit-transform":"translateY(0)"}),this.containerheader.css({"margin-bottom":"0"}),this.logo.hide(50),this.state="default")}else t>0?this.stickyNavigationMobile():this.navigation.css({position:"relative",transform:"translateY(0)","-moz-transform":"translateY(0)","-webkit-transform":"translateY(0)"})},t.prototype.setupNavigationHeights=function(){this.respondTo.indexOf("handheld")==-1&&this.respondTo.indexOf("medium-screen")==-1&&this.respondTo.indexOf("tablet-portrait")==-1&&(jQuery(".navigation > nav > ul > li *").removeAttr("style"),jQuery(".navigation > nav > ul").each(function(){var t=0;$(this).find("> li > a").each(function(e,i){$(i).height()>t&&(t=$(i).height())}),$(this).find("> li > a").height(t),$(this).find("> li > .g-grid").each(function(){var t=0;$(this).find("> li > a").each(function(e,i){$(i).height()>t&&(t=$(i).height())}),$(this).find("> li > a").height(t),$(window).height()-($(this).outerHeight()+jQuery(".topnav").outerHeight()+jQuery(".navigation").outerHeight())<0&&($(this).height($(window).height()-(jQuery(".topnav").outerHeight()+jQuery(".navigation").outerHeight()+parseInt($(this).css("paddingTop"))+parseInt($(this).css("paddingBottom")))),$(this).css("overflow-y","scroll"))})}))},t.prototype.stickyNavigation=function(){if("normal"===this.headerType){this.topNavOuterHeight=Math.min(70,this.topnav.outerHeight())+1,this.navigation.css({position:"fixed",transform:"translateY(-"+this.topNavOuterHeight+"px)","-moz-transform":"translateY(-"+this.topNavOuterHeight+"px)","-webkit-transform":"translateY(-"+this.topNavOuterHeight+"px)"});var t=this.navigation.outerHeight();this.containerheader.css({"margin-bottom":t}),this.logo.show(250)}},t.prototype.stickyNavigationMobile=function(){this.navigation.css({position:"fixed",transform:"translateY(0)","-moz-transform":"translateY(0)","-webkit-transform":"translateY(0)"})},t.prototype.fixedNavigation=function(){this.respondTo=window.getComputedStyle(document.body,":before").getPropertyValue("content"),this.respondTo.indexOf("handheld")==-1&&this.respondTo.indexOf("medium-screen")==-1&&this.respondTo.indexOf("tablet-portrait")==-1?this.stickyNavigation():this.stickyNavigationMobile()},t}();
"use strict";var HistoryFilter=function(){function e(){this.selector=jQuery(".sub-module-filter.history").find("select"),this.choosePeriod()}return e.prototype.choosePeriod=function(){var e=this;e.selector.on("change",function(){var o=e.selector.val();e.showSelectedPeriod(o)})},e.prototype.showSelectedPeriod=function(e){var o=jQuery(".period");0==e?o.removeClass("hidden-period"):(o.not(".hidden-period").addClass("hidden-period"),o.siblings("[data-period="+e+"]").removeClass("hidden-period"))},e}();
"use strict";var LatestPressReleases=function(){function t(t){this.contentItems=[],this.elemId="#"+t,this.processUrlParameters(),this.retrieveItems()}return t.prototype.processUrlParameters=function(){this.baseurl=jQuery(this.elemId).attr("data-baseurl"),this.filter=jQuery(this.elemId).attr("data-prkeywords")||"",this.itemCount=+jQuery(this.elemId).attr("data-count")||4,this.noResultsMessage=jQuery(this.elemId).attr("data-noresults")||"Sorry no results have been found.";var t=jQuery(this.elemId).attr("data-title"),e=jQuery(this.elemId).attr("data-intro")||"";""!==e&&(e="<p>"+e+"</p>"),this.introHtml="<header><h2>"+t+"</h2>"+e+"</header>"},t.prototype.retrieveItems=function(){var t=this;if(this.baseurl&&""!=this.baseurl&&"#"!=this.baseurl){var e=this.baseurl+this.itemCount+"/"+this.filter,r={dataType:"json",url:e,success:function(e){e.length?(t.contentItems=e,t.updateResults()):t.showNoResults()},error:function(e){t.showNoResults(),console.error("Error getting content",e)}};jQuery.ajax(r)}},t.prototype.showNoResults=function(){jQuery(this.elemId).html(this.introHtml+"<div style='flex: 0 0 100%; text-align:center;'><p>"+this.noResultsMessage+"</p></div>")},t.prototype.updateResults=function(){var t=this.contentItems.map(function(t){try{var e=t.ReleaseDateShort||"",r=t.Title||"",s=t.LinkToDetailPage||"#";return'<div>\n                                <article>\n                                    <h3 style="text-transform: capitalize">'+e+'</h3>\n                                    <a class="arrow" target="_self" href="'+s+'">'+r+"</a>\n                                </article>  \n                            </div>"}catch(a){return console.error("Malformed result. ignored",a),""}}).join("");jQuery(this.elemId).html(this.introHtml+t)},t}();
"use strict";var RowLinkFollower=function(){function r(r){this.selector=r;var o=jQuery(r),n=Array.from(o);n.forEach(function(r){var o=[];Array.from(r.rows).forEach(function(r,n){Array.from(r.cells).forEach(function(c,a){o.push(""),Array.from(c.children).forEach(function(a){"A"===a.nodeName&&(r.classList.add("row-has-link"),c.classList.add("has-link"),o[n]=a.href||"")})})}),Array.from(r.rows).forEach(function(r,n){Array.from(r.cells).forEach(function(r,c){""!==o[n]&&r.addEventListener("click",function(){window.location.href=o[n]})})})})}return r}();
var MobileMenu=function(){function e(){this.navigation=jQuery("header .navigation"),this.mobileCollapseButton=jQuery("header .navigation nav ul li span"),this.mobileSearch=jQuery("header .navigation div.search.handheld"),this.mobileNav=jQuery("header .navigation nav, header .navigation ul.handheld"),this.mobileNavButton=jQuery("header .navigation div.logo a.navicon"),this.mobileSearchButton=jQuery("header .navigation div.logo a.search"),this.mobileCollapsible=jQuery("header .navigation nav ul"),this.previousDeviceType="",this.deviceType=this.getDeviceType(),this.setMobileNavFunctionality(),this.registerResize()}return e.prototype.getDeviceType=function(){return this.respondTo=window.getComputedStyle(document.body,":before").getPropertyValue("content"),this.respondTo.indexOf("handheld")!=-1||this.respondTo.indexOf("medium-screen")!=-1||this.respondTo.indexOf("tablet-portrait")!=-1?"mobile":"desktop"},e.prototype.setMobileNavFunctionality=function(){if(this.respondTo.indexOf("handheld")!=-1||this.respondTo.indexOf("medium-screen")!=-1||this.respondTo.indexOf("tablet-portrait")!=-1){var e=0;$("header .navigation *[style]").removeAttr("style"),$("header").removeAttr("style"),this.mobileSearch.hide(),this.mobileNav.hide(),this.mobileCollapseButton.unbind("click").click(function(i){var t=$(i.target);t.siblings("ul").is(":visible")?(t.removeClass("open"),t.siblings("a").removeClass("open"),t.siblings("ul").find("li[style]").removeAttr("style"),t.siblings("ul").hide(),e=mobileMenu.navigation.outerHeight()):(t.addClass("open"),t.siblings("a").addClass("open"),t.siblings("ul").show(),t.siblings("ul").find("li").css("visibility","visible"),e=mobileMenu.navigation.outerHeight())}),this.mobileNavButton.unbind("click").click(function(){jQuery("header .navigation nav, header .navigation ul.handheld").is(":visible")?(event.preventDefault(),mobileMenu.hideNav()):(event.preventDefault(),$("body").css({"overflow-y":"hidden",height:"100%"}),mobileMenu.mobileNav.show(),mobileMenu.mobileSearch.show(),e=mobileMenu.navigation.outerHeight(),mobileMenu.navigation.css({"overflow-y":"scroll",height:"100vh"}))}),this.mobileSearchButton.unbind("click").click(function(){mobileMenu.mobileSearch.is(":visible")?(event.preventDefault(),mobileMenu.mobileSearch.hide(),e=mobileMenu.navigation.outerHeight()):(event.preventDefault(),mobileMenu.mobileSearch.show(),e=mobileMenu.navigation.outerHeight())})}else this.mobileNav.is(":visible")&&this.hideNav(),$("header .navigation *[style]").removeAttr("style")},e.prototype.hideNav=function(){$("body[style]").removeAttr("style"),this.mobileNav.hide(),this.mobileSearch.hide(),this.mobileCollapsible.find("*[style]").removeAttr("style"),this.navigation.css({"overflow-y":"",height:""})},e.prototype.registerResize=function(){var e=this;optimizedResize.add(function(){e.resize()})},e.prototype.resize=function(){this.previousDeviceType=this.deviceType,this.deviceType=this.getDeviceType(),this.previousDeviceType!=this.deviceType&&this.setMobileNavFunctionality()},e}();

var Navigation=function(){function e(){var e=this;this.fadeInTime=200,this.fadeOutTime=100,this.hoverTime=300,this.getScreenSize(),this.setSubmenuPostion(),this.setupMenu(),jQuery(document).ready(function(){e.setSubmenuPostion()}),optimizedResize.add(jQuery.proxy(function(){this.getScreenSize(),this.setSubmenuPostion(),this.resetMenu()},this)),optimizedScroll.add(jQuery.proxy(function(){this.setSubmenuPostion(),this.resetMenu()},this))}return e.prototype.getScreenSize=function(){this.respondTo=window.getComputedStyle(document.body,":before").getPropertyValue("content")},e.prototype.setupMenu=function(){var e,i=this;jQuery("nav ul li a.main-menu-item").hover(function(){if(i.respondTo.indexOf("handheld")==-1&&i.respondTo.indexOf("medium-screen")==-1){var t=jQuery(this).siblings(".g-grid");t.parent().addClass("hovering"),e=setTimeout(function(){jQuery("nav>ul>li").removeClass("opened"),t.parent().addClass("opened"),jQuery("nav ul .g-grid.animating").not(t).removeClass("animating").animate({opacity:"0"},i.fadeOutTime,function(){jQuery(this).css("visibility","hidden")}),t.addClass("animating"),t.stop(!0,!0).css("visibility","visible"),t.animate({opacity:"1"},700,function(){i.setupBodyClick()})},i.hoverTime)}},function(){i.respondTo.indexOf("handheld")==-1&&i.respondTo.indexOf("medium-screen")==-1&&(clearTimeout(e),jQuery(this).parent().removeClass("hovering"))})},e.prototype.resetMenu=function(){"undefined"!=typeof event&&"click"===event.type?0===jQuery(event.target).closest("nav").length&&(this.setMenuItems(),jQuery("nav ul li").removeClass("opened"),jQuery("body").unbind("click",this.resetMenu)):(this.setMenuItems(),jQuery("nav ul li").removeClass("opened"),jQuery("body").unbind("click",this.resetMenu))},e.prototype.setupBodyClick=function(){jQuery("body").unbind("click",this.resetMenu),jQuery("body").bind("click",$.proxy(this.resetMenu,this))},e.prototype.setMenuItems=function(){var e=this;this.respondTo.indexOf("handheld")==-1&&this.respondTo.indexOf("medium-screen")==-1?jQuery("nav ul .g-grid").each(function(i,t){jQuery(t).animate({opacity:0},e.fadeOutTime,function(){jQuery(this).css("visibility","hidden")})}):jQuery("nav ul .g-grid").each(function(e,i){jQuery(i).css({visibility:"hidden",opacity:"1"})})},e.prototype.setSubmenuPostion=function(){var e=jQuery("nav > ul > li:last").outerHeight();jQuery("nav ul .g-grid").each(function(i,t){jQuery(t).css("top",e+"px")})},e}();
"use strict";var NewsAndReferencesCarousel=function(){function t(t){this.contentItems=[],this.noMoreItems=!1,this.selector=".news-and-references-carousel",this.elemId="#"+t,this.processUrlParameters(),this.retrieveItems()}return t.prototype.processUrlParameters=function(){this.cdnPrefix=jQuery("body").attr("data-cdn-img")||"",this.baseurl=jQuery(this.elemId).attr("data-baseurl"),this.filter=jQuery(this.elemId).attr("data-filter")||"",this.itemCount=+jQuery(this.elemId).attr("data-count")||6,this.start=+jQuery(this.elemId).attr("data-start")||0,this.noResultsMessage=jQuery(this.elemId).attr("data-noresults")||"Sorry no results have been found.";var t=jQuery(this.elemId).attr("data-title"),e=jQuery(this.elemId).attr("data-intro")||"";""!==e&&(e="<p>"+e+"</p>"),this.introHtml="<header><h2>"+t+"</h2>"+e+"</header>"},t.prototype.retrieveItems=function(){var t=this;if(!this.noMoreItems&&this.baseurl&&""!=this.baseurl&&"#"!=this.baseurl){var e=this.baseurl+this.start+"/"+this.itemCount+"/"+this.filter,s={dataType:"json",url:e,success:function(e){e.length?(t.contentItems=t.contentItems.concat(e),e.length<t.itemCount&&(t.noMoreItems=!0),0==t.start?(t.initResults(),t.setupCarouselNewsAndReferences()):t.addNewSlides(e)):0==t.contentItems.length&&t.showNoResults()},error:function(e){0==t.contentItems.length&&t.showNoResults(),console.error("Error getting content",e)}};jQuery.ajax(s)}},t.prototype.addNewSlides=function(t){for(var e=0,s=t;e<s.length;e++){var r=s[e],o=this.mapData(r);jQuery(this.selector).slick("slickAdd",o)}},t.prototype.mapData=function(t){var e=JSON.search(t,"//ImageForTeaser//Url").shift()||"",s=JSON.search(t,"//ImageForTeaser/AltText").shift()||"",r=JSON.search(t,"//ImageForTeaser/Version").shift()||"",o=t.Title||"",n=t.Introduction||"",i=t.LinkToDetailPage,a="#"+JSON.search(t,"//Tags/Keyword/Title").sort().join(" #").toUpperCase();return""===e&&(e="/Content/Kone_default_teaser.jpg"),this.cdnPrefix&&(e=this.cdnPrefix+e+"?v="+r),""===s&&(s=o),'<div>\n\t\t\t\t  <a href="'+i+'">\n\t\t\t\t\t  <article>\n\t\t\t\t\t\t  <img src="'+e+'" alt="'+s+'">\n\t\t\t\t\t\t  <h3>'+o+"</h3>\n\t\t\t\t\t\t  <p>"+n+'</p>\n\t\t\t\t\t\t  <div class="tags">'+a+"</div>\n\t\t\t\t\t  </article>\n\t\t\t\t\t  <span></span>\n\t\t\t\t  </a>\n\t\t\t  </div>"},t.prototype.setupCarouselNewsAndReferences=function(){try{new Carousel(this.selector,null)}catch(t){this.moduleLoadError("Carousel",t)}jQuery(this.selector).slick("setOption","dots",!1,!0);var e=this;jQuery(this.selector).on("beforeChange",function(t,s,r,o){var n=this.slick.options.slidesToShow;r+n+2==e.contentItems.length&&(e.start=e.start+e.itemCount,e.retrieveItems())})},t.prototype.showNoResults=function(){jQuery(this.elemId).html(this.introHtml+"<div style='flex: 0 0 100%; text-align:center;'><p>"+this.noResultsMessage+"</p></div>")},t.prototype.initResults=function(){var t=this,e=this.contentItems.map(function(e){try{return t.mapData(e)}catch(s){return console.error("Malformed result. ignored",s),""}}).join(""),s='<div><section class="g-gutter g-flex">',r="</section></div>";jQuery(this.elemId).html(this.introHtml+s+e+r)},t.prototype.moduleLoadError=function(t,e){console.error("Error occured while loading module "+t),console.error("Make sure script is present."),console.error(e)},t}();
"use strict";var NewsAndReferences=function(){function t(t){this.contentItems=[],this.noMoreItems=!1,this.selector=".news-and-references-carousel",this.elemId="#"+t,this.processUrlParameters(),this.retrieveItems()}return t.prototype.processUrlParameters=function(){this.baseurl=jQuery(this.elemId).attr("data-baseurl"),this.filter=jQuery(this.elemId).attr("data-filter")||"",this.itemCount=+jQuery(this.elemId).attr("data-count")||6,this.start=+jQuery(this.elemId).attr("data-start")||0,this.end=this.itemCount,this.noResultsMessage=jQuery(this.elemId).attr("data-noresults")||"Sorry no results have been found.";var t=jQuery(this.elemId).attr("data-title"),e=jQuery(this.elemId).attr("data-intro")||"";""!==e&&(e="<p>"+e+"</p>"),this.introHtml="<header><h2>"+t+"</h2>"+e+"</header>"},t.prototype.retrieveItems=function(){var t=this;if(!this.noMoreItems&&this.baseurl&&""!=this.baseurl&&"#"!=this.baseurl){var e=this.baseurl+this.start+"/"+this.end+"/"+this.filter,s={dataType:"json",url:e,success:function(e){e.length?(t.contentItems=t.contentItems.concat(e),e.length<t.itemCount&&(t.noMoreItems=!0),0==t.start?(t.initResults(),t.setupCarouselNewsAndReferences()):t.addNewSlides(e)):t.showNoResults()},error:function(e){0==t.contentItems.length&&t.showNoResults(),console.error("Error getting content",e)}};jQuery.ajax(s)}},t.prototype.addNewSlides=function(t){for(var e=0,s=t;e<s.length;e++){var r=s[e],n=this.mapData(r);jQuery(this.selector).slick("slickAdd",n)}},t.prototype.mapData=function(t){var e=JSON.search(t,"//ImageForTeaser//Url").shift()||"",s=JSON.search(t,"//ImageForTeaser/AltText").shift()||"",r=t.Title||"",n=t.Introduction||"",i=t.LinkToDetailPage,o="#"+JSON.search(t,"//Tags/Keyword/Title").sort().join(" #").toUpperCase();return""===e&&(e="~/Content/Kone_default_teaser.jpg"),""===s&&(s=r),'<div>\n\t\t\t\t  <a href="'+i+'">\n\t\t\t\t\t  <article>\n\t\t\t\t\t\t  <img src="'+e+'" alt="'+s+'">\n\t\t\t\t\t\t  <h3>'+r+"</h3>\n\t\t\t\t\t\t  <p>"+n+'</p>\n\t\t\t\t\t\t  <div class="tags">'+o+"</div>\n\t\t\t\t\t  </article>\n\t\t\t\t\t  <span></span>\n\t\t\t\t  </a>\n\t\t\t  </div>"},t.prototype.setupCarouselNewsAndReferences=function(){try{new Carousel(this.selector,null)}catch(t){moduleLoadError("Carousel",t)}var e=this;jQuery(this.selector).on("beforeChange",function(t,s,r,n){r+4+1==e.contentItems.length&&(e.start=e.start+e.itemCount,e.end=e.end+e.itemCount,e.retrieveItems())})},t.prototype.showNoResults=function(){jQuery(this.elemId).html(this.introHtml+"<div style='flex: 0 0 100%; text-align:center;'><p>"+this.noResultsMessage+"</p></div>")},t.prototype.initResults=function(){var t=this,e=this.contentItems.map(function(e){try{return t.mapData(e)}catch(s){return console.error("Malformed result. ignored",s),""}}).join(""),s='<div><section class="g-gutter g-flex">',r="</section></div>";jQuery(this.elemId).html(this.introHtml+s+e+r)},t}();
"use strict";var OfficeSearchForm=function(){function e(e,t,o,i,s){this.region="",this.theGeoCoder=null,this.strictPostcodeCheck=!1,this.isZoomedToSingleOffice=!1,this.doConsoleLog=!1,this.officeData=o,this.theGeoCoder=e,this.region=t.toUpperCase(),this.strictPostcodeCheck=!0,this.map=i,this.originalZoomLevel=this.map.getZoom(),this.markers=s,this.log("region = "+t),jQuery("#search-offices").removeAttr("onsubmit"),jQuery("#search-offices").on("submit",this.submitForm.bind(this)),jQuery("#zipsearchbuttonone").removeAttr("disabled"),jQuery("#zipsearchbuttontwo").removeAttr("disabled")}return e.prototype.submitForm=function(e){function t(e){console.error("error: "+e);var t="#msg-no-offices";jQuery(t).html("<br /><label>"+e+"</label>"),jQuery(t).hasClass("hide-label")&&jQuery(t).removeClass("hide-label")}function o(){var e="#msg-no-offices";jQuery(e).hasClass("hide-label")||jQuery(e).addClass("hide-label")}function i(e){return a.filter(function(t){return t.name===e}).map(function(e){return e.value}).shift()}var s=this;o();var a=jQuery("#search-offices").serializeArray(),r=i("post-code"),n=(i("solution-area"),i("equipment-type"),jQuery("section.module-office-search-map").attr("data-msg-no-valid-postalcode")+" ("+this.region+")"),c=jQuery("section.module-office-search-map").attr("data-msg-no-office");jQuery("section.module-office-search-map").attr("data-msg-no-office-detailpage");if(this.isZoomedToSingleOffice){e.preventDefault(),this.map.setZoom(this.originalZoomLevel);var f=jQuery("section.module-office-search-map").attr("data-searchmap-centercoordinates").split(",").map(function(e){return+e});this.map.setCenter(new google.maps.LatLng(f[0],f[1]))}r&&(e.preventDefault(),this.checkIfPostCodeExists(r,function(e,o){if(!e)return void t(n);var i=1e8,a=-1;s.getDistancesToMatchingOffices(o,s.officeData,function(e,o){if(e.forEach(function(e,t){s.log("current closest: "+i+" - office dist: "+e.distance+" for office "+e.name),e.distance<i&&(i=e.distance,a=t)}),a>-1){var r=e[a],n=s.officeData.filter(function(e){return e.BranchName===r.name}).shift();s.updateMapForSingleOffice(n)}else t(c)})}))},e.prototype.updateMapForSingleOffice=function(e){var t=new google.maps.LatLng((+e.Latitude),(+e.Longitude));this.map.setCenter(t),this.map.setZoom(13),this.isZoomedToSingleOffice=!0},e.prototype.getDistancesToMatchingOffices=function(e,t,o){var i=this,s=(t.length,[]);t.forEach(function(t){s.push({name:t.BranchName,distance:i.getDistanceFromLatLonInKm(e.lat(),e.lng(),+t.Latitude,+t.Longitude)})}),o(s)},e.prototype.getDistanceFromLatLonInKm=function(e,t,o,i){var s=6371,a=this.deg2rad(o-e),r=this.deg2rad(i-t),n=Math.sin(a/2)*Math.sin(a/2)+Math.cos(this.deg2rad(e))*Math.cos(this.deg2rad(o))*Math.sin(r/2)*Math.sin(r/2),c=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n)),f=s*c;return f},e.prototype.deg2rad=function(e){return e*(Math.PI/180)},e.prototype.checkIfPostCodeExists=function(e,t){var o=this,i={region:this.region,address:e};this.log(i),this.theGeoCoder.geocode(i,function(e,i){if(i!==google.maps.GeocoderStatus.OK)return t();var s=e.shift();if(o.strictPostcodeCheck){var a=s.address_components.length,r=s.address_components[a-1].short_name;if(o.log(r),r!=o.region)return t()}o.log("postcode exists"),t(!0,s.geometry.location)})},e.prototype.log=function(e){this.doConsoleLog&&console.log(e)},e}();
"use strict";function _waitForElement(e,t){function o(){a++;var r=jQuery("#"+e).get(0);r?t(null,r):a>10?t("Could not find element!"):setTimeout(o,250)}o();var a=0}function _getUrlParam(e,t){t||(t=window.location.href),t=t.toLowerCase(),e=e.replace(/[\[\]]/g,"\\$&").toLowerCase();var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),a=o.exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}var OfficeLocatorService=function(){function e(e){var t=this;this.mapId=null,this.theMap=null,this.theGeoCoder=null,this.mapId=e.mapId,this.region=e.region,this.useMockData=!!e.useMockData||!1,this.markers=[],this.processUrlParameters(),"undefined"!=typeof google&&this.loadOfficeData(function(e){return e?void console.error("Could not retrieve data"):void _waitForElement(t.mapId,function(e,o){var a=new google.maps.LatLng(CONFIG.randomLat,CONFIG.randomLng),r={center:a,disableDefaultUI:!0,zoomControl:!0,zoom:t.officeZoomLevel,styles:CONFIG.mapStyle};t.currentOffice&&(r.draggable=!1,r.scrollwheel=!1,r.zoomControl=!1),t.theMap=new google.maps.Map(o,r),t.theGeoCoder=new google.maps.Geocoder,t.displayMap(),t.setupSearchForm()})})}return e.prototype.processUrlParameters=function(){this.baseurl=jQuery("section.module-site-page").attr("data-baseurl"),this.currentOffice=!!jQuery("section.module-site-page").length},e.prototype.setupSearchForm=function(){this.currentOffice||(this.searchForm=new OfficeSearchForm(this.theGeoCoder,this.region,this.officeData,this.theMap,this.markers))},e.prototype.displayMap=function(){this.zoomToRegion(),this.refreshMap()},e.prototype.zoomToRegion=function(){if(this.currentOffice)this.theMap.setCenter(this.officeLocation),this.theMap.setZoom(this.officeZoomLevel);else{var e=jQuery("section.module-office-search-map").attr("data-searchmap-centercoordinates").split(",").map(function(e){return+e}),t=+jQuery("section.module-office-search-map").attr("data-searchmap-zoomlevel")||7;this.theMap.setCenter(new google.maps.LatLng(e[0],e[1])),t&&this.theMap.setZoom(t)}},Object.defineProperty(e.prototype,"officeLocation",{get:function(){var e=this;if(!this.currentOffice){var t=this.officeData.filter(function(t){return t.name.toLowerCase()===e.currentOffice}).map(function(e){return new google.maps.LatLng(e.Latitude,e.Longitude)}).shift();return t}try{var o=jQuery("section.module-site-page").attr("data-coordinates").split(",").map(function(e){return+e});return new google.maps.LatLng(o[0],o[1])}catch(a){return console.error("Could not get data-coordinates for current office"),null}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"officeZoomLevel",{get:function(){return+jQuery("section.module-site-page").attr("data-zoom-level")||12},enumerable:!0,configurable:!0}),e.prototype.loadOfficeData=function(e){var t=this;if(this.useMockData)jQuery.ajax({dataType:"json",url:CONFIG.baseurl+"/en/api/dynamic/?schema=Office",data:{country:this.selectedCountry},success:function(o){t.officeData=o,e()}});else if(this.currentOffice)this.officeData=[{Latitude:""+this.officeLocation.lat(),Longitude:""+this.officeLocation.lng(),LinkToDetailPage:""}],e();else{var o=jQuery(".module-office-search-map").attr("data-baseurl");o||(o=jQuery(".module-site-page").attr("data-baseurl")),o&&""!==o&&"#"!==o&&jQuery.ajax({dataType:"json",url:o,success:function(o){t.officeData=o,e()}})}},Object.defineProperty(e.prototype,"officeCoordinates",{get:function(){return this.officeData.map(function(e){var t=new google.maps.LatLng((+e.Latitude),(+e.Longitude));return t})},enumerable:!0,configurable:!0}),e.prototype.refreshMap=function(){var e=this;this.officeData.forEach(function(t){var o=new google.maps.LatLng((+t.Latitude),(+t.Longitude)),a=(window.location.href.split("?")[0],{position:o,map:e.theMap,url:t.LinkToDetailPage}),r=jQuery(".module-office-search-map").attr("data-pin-icon"),i=jQuery(".module-office-search-map").attr("data-pin-clickable");r||(r=jQuery(".module-site-page").attr("data-pin-icon"),i=jQuery(".module-site-page").attr("data-pin-clickable"));var n=jQuery("body").data("cdn-img");n&&(r=r.replace(n,"/"===n.slice(-1)?"/":"")),r&&(a.icon=r);var c=new google.maps.Marker(a);i&&google.maps.event.addListener(c,"click",function(){window.location.href=a.url}),e.markers.push(c)})},e}();
"use strict";var PressReleaseIndexTable=function(){function t(t){this.contentItems=[],this.elemId="#"+t,this.processUrlParameters(),this.retrieveItems()}return t.prototype.processUrlParameters=function(){this.baseurl=jQuery(this.elemId).attr("data-baseurl"),this.filter=jQuery(this.elemId).attr("data-prkeywords")||"",this.itemCount=+jQuery(this.elemId).attr("data-count")||150,this.year=+jQuery(this.elemId).attr("data-year"),this.noResultsMessage=jQuery(this.elemId).attr("data-noresults")||"Sorry no results have been found.";var t=jQuery(this.elemId).attr("data-headdate"),e=jQuery(this.elemId).attr("data-headtitle");this.headtable="<thead><tr><th>"+t+"</th><th>"+e+"</th></tr></thead>"},t.prototype.retrieveItems=function(){var t=this;if(this.baseurl&&""!=this.baseurl&&"#"!=this.baseurl){var e=this.baseurl+this.year+"/0/"+this.itemCount+"/"+this.filter,r={dataType:"json",url:e,success:function(e){e.length?(t.contentItems=e,t.updateResults()):t.showNoResults()},error:function(e){t.showNoResults(),console.error("Error getting content",e)}};jQuery.ajax(r)}},t.prototype.showNoResults=function(){jQuery(this.elemId).html("<div style='flex: 0 0 100%; text-align:center;'><p>"+this.noResultsMessage+"</p></div>")},t.prototype.updateResults=function(){var t=this.contentItems.map(function(t){try{var e=t.ReleaseDateShort||"",r=t.Title||"",s=t.LinkToDetailPage||"#";return"<tr>\n                                <td>"+e+'</td>\n                                <td><a title="'+r+'" target="_self" href="'+s+'">'+r+"</a></td>\n                            </tr>"}catch(a){return console.error("Malformed result. ignored",a),""}}).join("");jQuery(this.elemId).html("<table>"+this.headtable+"<tbody>"+t+"</tbody></table>")},t}();
"use strict";var PublicationContentFilter=function(){function t(t){var e=this;this.contentItems=[],this.filterYear="",this.filterTitle="Any filter",this.quarteredContentItems={};var r=this;r.resizer=t,r.processUrlParameters(),r.setupPage(),r.retrieveItems(),jQuery(window).on("popstate",jQuery.proxy(function(t){null!==t.state&&(r.getFilters(),r.checkFilters(),e.contentItems=[],r.retrieveItems())},r))}return t.prototype.setupPage=function(){var t=this;t.getFilters(),t.checkFilters(),jQuery(".sub-module-filter .publication-year").change(function(e){t.changeFilters(e)})},t.prototype.checkFilters=function(){jQuery(".sub-module-filter .publication-year").val(this.filterYear)},t.prototype.getFilters=function(){function t(){var t="";try{var e=window.location.href.split("?");if(e.length&&e.length>1){var r=e[1].replace(/#/g,""),n=r.split("=");t=n[1]}return t?t:jQuery(".content-filter-component").attr("data-filter")}catch(i){return console.error("Error converting url to tags",i),t}}return this.filterYear=t(),this.filterYear},t.prototype.processUrlParameters=function(){this.baseurl=jQuery(".content-filter-component").attr("data-baseurl"),this.noResultsMessage=jQuery(".content-filter-component").attr("data-noresults")||"Sorry no results have been found."},t.prototype.updateResults=function(){var t="";for(var e in this.quarteredContentItems)if(this.quarteredContentItems.hasOwnProperty(e)){var r=this.quarteredContentItems[e][0].QuarterDisplayValue||e;t+="<header>\n                                    <h2>"+r+"</h2>           </header>\n                                <div>\n                                    <section>"+this.quarteredContentItems[e].map(function(t){try{var e=t.Title||"",r=t.Description||"",n=t.DownloadBinary.Multimedia.Url||"";return'<div>\n                                                            <a href="'+n+'" class="downloads">\n                                                                <article>\n                                                                    <h3>'+e+"</h3>\n                                                                    <p>"+r+"</p>\n                                                                </article>\n                                                            </a>\n                                                        </div>"}catch(i){return console.error("Malformed result. ignored",i),""}}).join("")+"</section>\n                                </div>"}jQuery(".results-holder").html(t),this.resizer.setupTags()},Object.defineProperty(t.prototype,"filterString",{get:function(){try{return this.filterYear?"year="+this.filterYear:""}catch(t){return console.error("Error building filter string. Check html.",t),""}},enumerable:!0,configurable:!0}),t.prototype.retrieveItems=function(){var t=this;if(this.baseurl&&""!=this.baseurl&&"#"!=this.baseurl&&""!=this.filterYear){jQuery(".loader").clone().appendTo(".results-holder").addClass("active");var e=this.baseurl+this.filterYear,r={dataType:"json",url:e,success:function(e){if(e.length){var r=e.map(function(t){return t.labels=JSON.search(t,"//CategoryName/../Keyword/Key").sort().filter(function(t,e){return e>0?t===t[e-1]:t}),t});t.contentItems=t.contentItems.concat(r),t.reodrerContentItems(),t.updateResults()}jQuery(".loader.active").remove(),e.length||(!t.contentItems.length||t.contentItems.length<=0)&&jQuery(".results-holder").html("<div style='flex: 0 0 100%; text-align:center;'><p>"+t.noResultsMessage+"</p></div>")},error:function(t){console.error("Error getting content",t),jQuery(".loader.active").remove()}};jQuery.ajax(r)}},t.prototype.reodrerContentItems=function(){var t=this;this.contentItems.map(function(e,r){t.quarteredContentItems[e.QuarterKey]?t.quarteredContentItems[e.QuarterKey].push(e):(t.quarteredContentItems[e.QuarterKey]=[],t.quarteredContentItems[e.QuarterKey].push(e))})},t.prototype.updateFilters=function(t){this.filterYear=jQuery(t).val()},t.prototype.updateUrl=function(){var t=(document.title,{}),e=window.location.href.split("?"),r=e[0].replace(/#/g,""),n=this.filterYear?r+"?"+this.filterString:r;window.history.pushState(t,"KoneTest",n)},t.prototype.changeFilters=function(t){this.updateFilters(t.target),this.updateUrl(),this.contentItems=[],this.quarteredContentItems={},this.retrieveItems()},t.prototype.resetSelection=function(t){this.contentItems=[],this.updateUrl(),this.retrieveItems(),t.preventDefault()},t}();
"use strict";var ResizeHelper=function(){function e(){this.registerResize(),this.resizeProcessModule(),this.setupTags()}return e.prototype.registerResize=function(){var e=this;optimizedResize.add(function(){e.resizeProcessModule(),e.cleanSetupTags(),e.setupTags()})},e.prototype.setupTags=function(){jQuery("*.tags").each(function(e){if(!jQuery(this).parents(".module-selected-highlights, .module-products").length){var t=jQuery(this).parent();if(window.innerWidth>1023){var i=t.outerHeight();jQuery(this).parent().height(i)}else{var r=t.find("h2, h3");r.css({bottom:jQuery(this).outerHeight(!0),left:"0"})}}})},e.prototype.cleanSetupTags=function(){jQuery("*.tags").each(function(){jQuery(this).removeAttr("style"),jQuery(this).parent().removeAttr("style"),jQuery(this).parent().find("h2, h3").removeAttr("style")})},e.prototype.resizeProcessModule=function(){var e=jQuery("section.module-process"),t=0,i=0,r=0;e&&e.each(function(){jQuery("article",this).each(function(){var e=jQuery(this).find("h3"),h=jQuery(this).find(".rtf"),s=jQuery(this).find(".linkList");e.height("auto"),h.height("auto"),s.height("auto"),e.height()>t&&(t=e.height()),h.height()>i&&(i=h.height()),s.height()>r&&(r=s.height())}),jQuery("article",this).find("h3").height(t),jQuery("article",this).find(".rtf").height(i),jQuery("article",this).find(".linkList").height(r)})},e}();

"use strict";var ScrollPast=function(){function t(t,r,i){this.elName=t,this.navMargin=r,this.duration=i,jQuery("#"+t+" .scroll-past-link").click(function(){return jQuery("html, body").animate({scrollTop:jQuery("#"+t+"-stop").offset().top-r},i),!1}),jQuery('<div id="'+t+'-stop"></div>').insertAfter("#"+t)}return t}();
"use strict";var ScrollPast=function(){function t(t,r,i){this.elName=t,this.navMargin=r,this.duration=i,jQuery("#"+t+" .scroll-past-link").click(function(){return jQuery("html, body").animate({scrollTop:jQuery("#"+t+"-stop").offset().top-r},i),!1}),jQuery('<div id="'+t+'-stop"></div>').insertAfter("#"+t)}return t}();
"use strict";var SelectRedirect=function(){function e(e){this.className=e;var t=this;jQuery("."+e).change(function(){t.redirect(this)})}return e.prototype.redirect=function(e){var t=e[e.selectedIndex].value;window.location.href=t},e}();
"use strict";var VideoPlayer=function(){function e(e){this.element=e,this.aspectRatio="16:9",this.currentVideoContainer=this.getVideoSelector(),optimizedResize.add(this.resize.bind(this))}return e.prototype.resize=function(){this.currentVideoContainer=this.getVideoSelector()},e.prototype.getVideoType=function(e){return jQuery(e).hasClass("video-type-youtube")?"youtube":(jQuery(e).hasClass("video-type-jwplayer"),"jwplayer")},e.prototype.getVideoSelector=function(){var e=window.getComputedStyle(document.body,":before").getPropertyValue("content");if(e.indexOf("handheld")!=-1){var t=".video-type-mobile",i=this.element.find(".video-type.video-type-mobile");return 0==i.length&&(i=this.element.find(".video-type.video-type-desktop"),t=".video-type-desktop"),this.type=this.getVideoType(i),"youtube"==this.type?".video-type-youtube"+t:".video-type-jwplayer"+t}var i=this.element.find(".video-type.video-type-desktop");return this.type=this.getVideoType(i),"youtube"==this.type?".video-type-youtube.video-type-desktop":".video-type-jwplayer.video-type-desktop"},e.prototype.fit=function(e){function t(t){var i=e.outerHeight(),o=e.outerWidth(),n=+t.split(":")[0],r=+t.split(":")[1],s=o/n*r,p=i/r*n;return s<i?[Math.floor(o),Math.floor(s)]:[Math.floor(p),Math.floor(i)]}var i=t(this.aspectRatio),o=i[0],n=i[1];if("youtube"===this.type){var r=this.element.find("iframe");r.prop("width",o+"px"),r.prop("height",n+"px")}else{var r=this.element.find(this.currentVideoContainer).find("iframe");if(r.length)r.prop("width",o+"px"),r.prop("height",n+"px");else{var s=0,p=e.outerWidth();s=(p-o)/2,this.element.css("padding","0 "+s+"px")}}},e.prototype.show=function(){this.element.find(".video-type").hide(),this.element.show(),this.element.find(this.currentVideoContainer).show()},e.prototype.hide=function(){this.element.hide()},e.prototype.stop=function(){function e(){try{var e=i.prop("src");e=e.replace("&autoplay=1",""),i.prop("src",""),i.prop("src",e),i.prop("data-play",0)}catch(t){console.log(t)}}function t(){try{var e=o.element.find(o.currentVideoContainer).find(".jwplayer").attr("id");"undefined"!=typeof e&&"undefined"!=typeof jwplayer&&jwplayer(e).stop()}catch(t){console.log(t)}}var i=this.element.find(this.currentVideoContainer).find("iframe"),o=this;switch(this.type){case"youtube":e(),this.playing=!1;break;case"jwplayer":t(),this.playing=!1}},e.prototype.play=function(){function e(){try{var e=i.element.find(i.currentVideoContainer).find(".jwplayer").attr("id");"undefined"!=typeof e&&"undefined"!=typeof jwplayer&&jwplayer(e).play()}catch(t){console.error("Could not play jwplayer video",t)}}function t(){try{var e=i.element.find(i.currentVideoContainer).find("iframe"),t=e.prop("src").split("?")[0]+"?rel=0",o=t+"&autoplay=1";e.prop("src",o),e.prop("data-play",1)}catch(n){console.error("Could not play youtube video",n)}}var i=this;switch(this.type){case"youtube":t(),this.playing=!0;break;default:e(),this.playing=!0}},e}(),VideoBackdrop=function(){function e(){this.playing=!1,this.setupVideo(),this.setupPlayButton(),this.setupStopButton(),optimizedResize.add(this.resize.bind(this))}return e.prototype.setupPlayButton=function(){var e=this;jQuery(".video-banner button.play").click(function(){try{var t=e.section.find("header");t.find("h1,h2,h3").hide(),t.find("p").hide(),t.find("button").hide(),e.section.find("button.stop-video").show(),e.activeVideo.show(),e.activeVideo.play(),e.playing=!0}catch(i){console.error("Error playing video",i)}})},e.prototype.resize=function(){this.activeVideo.fit(this.section)},e.prototype.setupStopButton=function(){var e=this;jQuery(".video-banner button.stop-video").click(function(){if(e.playing)try{var t=e.section.find("header");t.find("h1,h2,h3").show(),t.find("p").show(),t.find("button").show(),e.section.find("button.stop-video").hide();var i=e.section.find(".video-container");e.activeVideo.stop(),e.playing=!1,i.hide()}catch(o){console.error("Error stopping video",o)}})},e.prototype.setupVideo=function(){this.section=jQuery("section.video-banner");var e=this.section.find(".video-container");this.activeVideo=new VideoPlayer(e),this.activeVideo.fit(this.section)},e}(),VideoCarousel=function(){function e(){this.players=[],this.setupPlayButton()}return e.prototype.setupPlayButton=function(){var e=this;jQuery(".carousel button.play").click(function(){try{var t=jQuery(this).parent();t.find("img").hide(),t.find("button").hide();var i=t.find(".video-container"),o=new VideoPlayer(i);e.players.push([o,function(){t.find("img").show(),t.find("button").show(),t.find("div.video-container").hide()}]),o.fit(t),o.show(),o.play()}catch(n){console.error("Error playing video",n)}})},e.prototype.stopPlayers=function(){this.players.forEach(function(e){e[0].stop(),e[1]()})},e}(),VideoLinker=function(){function e(e){this.classes=e,this.registerLinks()}return e.prototype.registerLinks=function(){var e=this,t=jQuery("a."+this.classes.links);t.each(function(t,i){var o=jQuery(i);o.on("click",function(){var t="#"+o.prop("href").split("#")[1],i=jQuery(t),n=i.find(".close-button");Array.from(n).length||($("body").css("overflow","hidden"),i.prepend('<div class="close-button"><button class="round animate close close-video"></button></div>')),jQuery(".close-video").click(function(){$("body[style]").removeAttr("style"),jQuery(".video-container").hide(),e.closeVideo(t)}),e.openVideo(i),i.show()})})},e.prototype.closeVideo=function(e){this.activeVideo.stop()},e.prototype.openVideo=function(e){this.activeVideo=new VideoPlayer(jQuery(e)),this.activeVideo.show(),this.activeVideo.play()},e}();
var CONFIG={baseurl:"",randomLat:56.2,randomLng:0,OLS:{mapId:"id-my-map"},background:{imageCss:"data-image",patternCss:"data-pattern"},divs:{scrollPast:"scroll-past"},mapStyle:[{featureType:"administrative.locality",elementType:"all",stylers:[{hue:"#2c2e33"},{saturation:7},{lightness:19},{visibility:"on"}]},{featureType:"landscape",elementType:"all",stylers:[{hue:"#ffffff"},{saturation:-100},{lightness:100},{visibility:"simplified"}]},{featureType:"poi",elementType:"all",stylers:[{hue:"#ffffff"},{saturation:-100},{lightness:100},{visibility:"off"}]},{featureType:"road",elementType:"geometry",stylers:[{hue:"#bbc0c4"},{saturation:-93},{lightness:31},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{hue:"#bbc0c4"},{saturation:-93},{lightness:31},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{hue:"#bbc0c4"},{saturation:-93},{lightness:-2},{visibility:"simplified"}]},{featureType:"road.local",elementType:"geometry",stylers:[{hue:"#e9ebed"},{saturation:-90},{lightness:-8},{visibility:"simplified"}]},{featureType:"transit",elementType:"all",stylers:[{hue:"#e9ebed"},{saturation:10},{lightness:69},{visibility:"on"}]},{featureType:"water",elementType:"all",stylers:[{hue:"#e9ebed"},{saturation:-78},{lightness:67},{visibility:"simplified"}]}]};
if(function(e,t){var n={init:function(){return this},work_handler:function(e){var t=Array.prototype.slice.call(e.data,1),n=e.data[0],r=tree[n].apply(tree,t);postMessage([n,r])},setup:function(t){var r=e.URL||e.webkitURL,a="var tree = {"+this.parse(t).join(",")+"};",s=new Blob([a+'self.addEventListener("message", '+this.work_handler.toString()+", false);"],{type:"text/javascript"}),i=new Worker(r.createObjectURL(s));return i.onmessage=function(e){var t=Array.prototype.slice.call(e.data,1),r=e.data[0];n.observer.emit("x10:"+r,t)},i},call_handler:function(e,t){return function(){var r=Array.prototype.slice.call(arguments,0,-1),a=arguments[arguments.length-1];r.unshift(e),n.observer.on("x10:"+e,function(e){a(e.detail[0])}),t.postMessage(r)}},compile:function(e){var t,n=this.setup("function"==typeof e?{func:e}:e),r={};if("function"==typeof e)return r.func=this.call_handler("func",n),r.func;for(t in e)r[t]=this.call_handler(t,n);return r},parse:function(e,n){var r,a,s,i=[];for(r in e)if(s=e[r],null!==s)if(s!==t){switch(s.constructor){case Date:a="new Date("+s.valueOf()+")";break;case Object:a="{"+this.parse(s).join(",")+"}";break;case Array:a="["+this.parse(s,!0).join(",")+"]";break;case String:a='"'+s.replace(/"/g,'\\"')+'"';break;case RegExp:case Function:a=s.toString();break;default:a=s}n?i.push(a):i.push(r+":"+a)}else i.push(r+":undefined");else i.push(r+":null");return i},observer:function(){var e={};return{on:function(t,n){e[t]||(e[t]=[]),e[t].unshift(n)},off:function(t,n){if(e[t]){var r=e[t].indexOf(n);e[t].splice(r,1)}},emit:function(t,n){if(e[t])for(var r={type:t,detail:n,isCanceled:!1,cancelBubble:function(){this.isCanceled=!0}},a=e[t].length;a--;){if(r.isCanceled)return;e[t][a](r)}}}}()};"undefined"==typeof module?e.x10=n.init():module.exports=n.init()}(this),function(e,t,n){"use strict";var r={is_ie:/(msie|trident)/i.test(navigator.userAgent),is_safari:/safari/i.test(navigator.userAgent),env:"production",xml_decl:'<?xml version="1.0" encoding="utf-8"?>',namespace:'xmlns:d="defiant-namespace"',tabsize:4,render:function(e,t){var n,r,a,s,i=new XSLTProcessor,o=document.createElement("span"),l={match:"/"};switch(typeof e){case"object":this.extend(l,e),l.data||(l.data=t);break;case"string":l.template=e,l.data=t;break;default:throw"error"}if(l.data=JSON.toXML(l.data),n='//xsl:template[@name="'+l.template+'"]',this.xsl_template||this.gatherTemplates(),l.sorter&&(s=this.node.selectSingleNode(this.xsl_template,n+"//xsl:for-each//xsl:sort"),s&&(l.sorter.order&&s.setAttribute("order",l.sorter.order),l.sorter.select&&s.setAttribute("select",l.sorter.select),s.setAttribute("data-type",l.sorter.type||"text"))),a=this.node.selectSingleNode(this.xsl_template,n),a.setAttribute("match",l.match),i.importStylesheet(this.xsl_template),o.appendChild(i.transformToFragment(l.data,document)),a.removeAttribute("match"),this.is_safari){r=o.getElementsByTagName("script");for(var c=0,u=r.length;u>c;c++)r[c].defer=!0}return o.innerHTML},gatherTemplates:function(){for(var e=document.getElementsByTagName("script"),t="",n=0,r=e.length;r>n;n++)"defiant/xsl-template"===e[n].type&&(t+=e[n].innerHTML);this.xsl_template=this.xmlFromString('<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" '+this.namespace+">"+t.replace(/defiant:(\w+)/g,"$1")+"</xsl:stylesheet>")},getSnapshot:function(e,t){return JSON.toXML(e,t||!0)},xmlFromString:function(e){var t,n;return e=e.replace(/>\s{1,}</g,"><"),null===e.trim().match(/<\?xml/)&&(e=this.xml_decl+e),this.is_ie?(n=new ActiveXObject("Msxml2.DOMDocument"),n.loadXML(e),-1===e.indexOf("xsl:stylesheet")&&n.setProperty("SelectionLanguage","XPath")):(t=new DOMParser,n=t.parseFromString(e,"text/xml")),n},extend:function(e,t){for(var n in t)e[n]&&"object"==typeof t[n]?this.extend(e[n],t[n]):e[n]=t[n];return e},node:{}};e.Defiant=t.exports=r}("undefined"!=typeof window?window:{},"undefined"!=typeof module?module:{}),"undefined"==typeof XSLTProcessor){var XSLTProcessor=function(){};XSLTProcessor.prototype={importStylesheet:function(e){this.xsldoc=e},transformToFragment:function(e,t){var n=e.transformNode(this.xsldoc),r=document.createElement("span");return r.innerHTML=n,r}}}else if("function"!=typeof XSLTProcessor&&!XSLTProcessor)throw"XSLTProcessor transformNode not implemented";String.prototype.fill||(String.prototype.fill=function(e,t){var n=this;for(t=t||" ";n.length<e;n+=t);return n}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/gm,"")}),String.prototype.xTransform||(String.prototype.xTransform=function(){var e=this;return-1===this.indexOf("translate(")&&(e=this.replace(/contains\(([^,]+),([^\\)]+)\)/g,function(e,t,n){var r="abcdefghijklmnopqrstuvwxyz",a=n.trim().slice(-1);return"contains(translate("+t+", "+a+r.toUpperCase()+a+", "+a+r+a+"),"+n.toLowerCase()+")"})),e.toString()}),"undefined"==typeof JSON&&(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(e){if(e instanceof Object){var t="";if(e.constructor===Array){for(var n=0;n<e.length;t+=this.stringify(e[n])+",",n++);return"["+t.substr(0,t.length-1)+"]"}if(e.toString!==Object.prototype.toString)return'"'+e.toString().replace(/"/g,"\\$&")+'"';for(var r in e)t+='"'+r.replace(/"/g,"\\$&")+'":'+this.stringify(e[r])+",";return"{"+t.substr(0,t.length-1)+"}"}return"string"==typeof e?'"'+e.replace(/"/g,"\\$&")+'"':String(e)}}),JSON.toXML||(JSON.toXML=function(e,t){"use strict";var n,r,a,s={map:[],rx_validate_name:/^(?!xml)[a-z_][\w\d.:]*$/i,rx_node:/<(.+?)( .*?)>/,rx_constructor:/<(.+?)( d:contr=".*?")>/,rx_namespace:/ xmlns\:d="defiant\-namespace"/,rx_data:/(<.+?>)(.*?)(<\/d:data>)/i,rx_function:/function (\w+)/i,namespace:'xmlns:d="defiant-namespace"',to_xml_str:function(e){return{str:this.hash_to_xml(null,e),map:this.map}},hash_to_xml:function(e,t,n){var r,a,s,i,o,l,c,u,d,h=t.constructor===Array,m=this,p=[],f=[],g=function(t,r){if(a=r[t],(null===a||void 0===a||"NaN"===a.toString())&&(a=null),i="@"===t.slice(0,1),o=n?e:t,o==+o&&r.constructor!==Object&&(o="d:item"),null===a?(l=null,c=!1):(l=a.constructor,c=l.toString().match(m.rx_function)[1]),i)f.push(o.slice(1)+'="'+m.escape_xml(a)+'"'),"String"!==c&&f.push("d:"+o.slice(1)+'="'+c+'"');else if(null===a)p.push(m.scalar_to_xml(o,a));else switch(l){case Function:throw"JSON data should not contain functions. Please check jour structure.";case Object:p.push(m.hash_to_xml(o,a));break;case Array:if(t===o){if(s=a.constructor===Array)for(u=a.length;u--;)null!==a[u]&&a[u]&&a[u].constructor!==Array||(s=!0),s||a[u].constructor!==Object||(s=!0);p.push(m.scalar_to_xml(o,a,s));break}case String:if("string"==typeof a&&(a=a.toString().replace(/\&/g,"&amp;").replace(/\r|\n/g,"&#13;")),"#text"===o){m.map.push(r),f.push('d:mi="'+m.map.length+'"'),f.push('d:constr="'+c+'"'),p.push(m.escape_xml(a));break}case Number:case Boolean:if("#text"===o&&"String"!==c){m.map.push(r),f.push('d:mi="'+m.map.length+'"'),f.push('d:constr="'+c+'"'),p.push(m.escape_xml(a));break}p.push(m.scalar_to_xml(o,a))}};if(t.constructor===Array)for(u=0,d=t.length;d>u;u++)g(u.toString(),t);else for(r in t)g(r,t);return e||(e="d:data",f.push(this.namespace),h&&f.push('d:constr="Array"')),null===e.match(this.rx_validate_name)&&(f.push('d:name="'+e+'"'),e="d:name"),n?p.join(""):(this.map.push(t),f.push('d:mi="'+this.map.length+'"'),"<"+e+(f.length?" "+f.join(" "):"")+(p.length?">"+p.join("")+"</"+e+">":"/>"))},scalar_to_xml:function(e,t,n){var r,a,s,i="";if(null===e.match(this.rx_validate_name)&&(i+=' d:name="'+e+'"',e="d:name",n=!1),(null===t||"NaN"===t.toString())&&(t=null),null===t)return"<"+e+' d:constr="null"/>';if(1===t.length&&t.constructor===Array&&!t[0])return"<"+e+' d:constr="null" d:type="ArrayItem"/>';if(1===t.length&&t[0].constructor===Object){r=this.hash_to_xml(!1,t[0]);var o=r.match(this.rx_node),l=r.match(this.rx_constructor);return o=null!==o?o[2].replace(this.rx_namespace,"").replace(/>/,"").replace(/"\/$/,'"'):"",l=null!==l?l[2]:"",r=r.match(this.rx_data),r=null!==r?r[2]:"","<"+e+o+" "+l+' d:type="ArrayItem">'+r+"</"+e+">"}return 0===t.length&&t.constructor===Array?"<"+e+' d:constr="Array"/>':n?this.hash_to_xml(e,t,!0):(a=t.constructor,s=a.toString().match(this.rx_function)[1],r=a===Array?this.hash_to_xml("d:item",t,!0):this.escape_xml(t),i+=' d:constr="'+s+'"',this.map.push(t),i+=' d:mi="'+this.map.length+'"',"#text"===e?this.escape_xml(t):"<"+e+i+">"+r+"</"+e+">")},escape_xml:function(e){return String(e).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&nbsp;/g,"&#160;")}};switch(typeof t){case"function":return a=x10.compile(s),void a.to_xml_str(e,function(n){t({doc:Defiant.xmlFromString(n.str),src:e,map:n.map})});case"boolean":return n=s.to_xml_str.call(s,e),{doc:Defiant.xmlFromString(n.str),src:e,map:n.map};default:return n=s.to_xml_str.call(s,e),r=Defiant.xmlFromString(n.str),this.search.map=n.map,r}}),JSON.search||(JSON.search=function(e,t,n){"use strict";var r,a,s=e.doc&&e.doc.nodeType,i=s?e.doc:JSON.toXML(e),o=s?e.map:this.search.map,l=s?e.src:e,c=Defiant.node[n?"selectSingleNode":"selectNodes"](i,t.xTransform()),u=[];for(n&&(c=[c]),a=c.length;a--;)switch(c[a].nodeType){case 2:case 3:u.unshift(c[a].nodeValue);break;default:r=+c[a].getAttribute("d:mi"),u.unshift(o[r-1])}return"development"===Defiant.env&&(this.trace=JSON.mtrace(l,u,c)),u}),JSON.mtrace||(JSON.mtrace=function(e,t,n){"use strict";for(var r,a,s,i,o,l=window,c=JSON.stringify,u=c(e,null,"\t").replace(/\t/g,""),d=[],h=0,m=n.length,p=!!m&&n[h].ownerDocument.documentElement,f=(this.search.map,0);m>h;h++){switch(n[h].nodeType){case 2:a=n[h].ownerElement?n[h].ownerElement.getAttribute("d:"+n[h].nodeName):"String",r='"@'+n[h].nodeName+'": '+l[a](t[h]),s=u.indexOf(r),o=0;break;case 3:a=n[h].parentNode.getAttribute("d:constr"),r=l[a](t[h]),r='"'+n[h].parentNode.nodeName+'": '+("Number"===r?r:'"'+r+'"'),s=u.indexOf(r),o=0;break;default:if(n[h]===p)continue;"String"===n[h].getAttribute("d:constr")||"Number"===n[h].getAttribute("d:constr")?(a=n[h].getAttribute("d:constr"),r=l[a](t[h]),s=u.indexOf(r,f),r='"'+n[h].nodeName+'": '+("Number"===a?r:'"'+r+'"'),o=0,f=s+1):(r=c(t[h],null,"\t").replace(/\t/g,""),s=u.indexOf(r),o=r.match(/\n/g).length)}i=u.substring(0,s).match(/\n/g).length+1,d.push([i,o])}return d}),Defiant.node.selectNodes=function(e,t){if(e.evaluate){for(var n=e.createNSResolver(e.documentElement),r=e.evaluate(t,e,n,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),a=[],s=0,i=r.snapshotLength;i>s;s++)a.push(r.snapshotItem(s));return a}return e.selectNodes(t)},Defiant.node.selectSingleNode=function(e,t){if(e.evaluate){var n=this.selectNodes(e,t);return n.length>0?n[0]:null}return e.selectSingleNode(t)},Defiant.node.prettyPrint=function(e){var t,n,r=Defiant,a=r.tabsize,s=r.xml_decl.toLowerCase();r.is_ie?n=e.xml:(t=new XMLSerializer,n=t.serializeToString(e)),"development"!==r.env&&(n=n.replace(/ \w+\:d=".*?"| d\:\w+=".*?"/g,""));for(var i,o,l=n.trim().replace(/(>)\s*(<)(\/*)/g,"$1\n$2$3"),c=l.split("\n"),u=-1,d=0,h=c.length;h>d;d++)(0!==d||c[d].toLowerCase()!==s)&&(i=null!==c[d].match(/<[A-Za-z_\:]+.*?>/g),o=null!==c[d].match(/<\/[\w\:]+>/g),null!==c[d].match(/<.*?\/>/g)&&(i=o=!0),i&&u++,c[d]=String().fill(u,"\t")+c[d],i&&o&&u--,!i&&o&&u--);return c.join("\n").replace(/\t/g,String().fill(a," "))},Defiant.node.toJSON=function(e,t){"use strict";var n=function(e){var t,r,a,s,i,o,l,c,u,d,h={},m=window;switch(e.nodeType){case 1:for(i=e.getAttribute("d:constr"),"Array"===i?h=[]:"String"===i&&""===e.textContent&&(h=""),t=e.attributes,c=0,u=t.length;u>c;c++)d=t.item(c),null===d.nodeName.match(/\:d|d\:/g)&&(i=e.getAttribute("d:"+d.nodeName),o=i&&"undefined"!==i?"null"===d.nodeValue?null:m[i]("false"===d.nodeValue?"":d.nodeValue):d.nodeValue,h["@"+d.nodeName]=o);break;case 3:r=e.parentNode.getAttribute("d:type"),o=r?m[r]("false"===e.nodeValue?"":e.nodeValue):e.nodeValue,h=o}if(e.hasChildNodes())for(c=0,u=e.childNodes.length;u>c;c++)if(a=e.childNodes.item(c),s=a.nodeName,t=e.attributes,"d:name"===s&&(s=a.getAttribute("d:name")),"#text"===s)i=e.getAttribute("d:constr"),"undefined"===i&&(i=void 0),l=a.textContent||a.text,o="Boolean"===i&&"false"===l?"":l,i||t.length?i&&1===u?h=m[i](o):e.hasChildNodes()&&t.length<3?h=i?m[i](o):o:h[s]=i?m[i](o):o:h=o;else{if("null"===a.getAttribute("d:constr")){h[s]&&h[s].push?h[s].push(null):"ArrayItem"===a.getAttribute("d:type")?h[s]=[h[s]]:h[s]=null;continue}if(h[s]){h[s].push?h[s].push(n(a)):h[s]=[h[s],n(a)];continue}switch(i=a.getAttribute("d:constr")){case"null":h.push?h.push(null):h[s]=null;break;case"Array":a.parentNode.firstChild===a&&"Array"===i&&"d:item"!==s?"d:item"===s||"Array"===i?(o=n(a),h[s]=o.length?[o]:o):h[s]=n(a):h.push?h.push(n(a)):h[s]=n(a);break;case"String":case"Number":case"Boolean":l=a.textContent||a.text,o="Boolean"===i&&"false"===l?"":l,h.push?h.push(m[i](o)):h[s]=n(a);break;default:h.push?h.push(n(a)):h[s]=n(a)}}return 1===e.nodeType&&"ArrayItem"===e.getAttribute("d:type")&&(h=[h]),h},r=9===e.nodeType?e.documentElement:e,a=n(r),s=a[r.nodeName];return r===r.ownerDocument.documentElement&&s&&s.constructor===Array&&(a=s),t&&"true"===t.toString()&&(t="\t"),t?JSON.stringify(a,null,t):a},"undefined"!=typeof jQuery&&!function(e){"use strict";e.fn.defiant=function(e,t){return this.html(Defiant.render(e,t)),this}}(jQuery);
Array.from||(Array.from=function(e){"use strict";return[].slice.call(e)}),"function"!=typeof Element.prototype.matches&&(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=this,o=(t.document||t.ownerDocument).querySelectorAll(e),r=0;o[r]&&o[r]!==t;)++r;return Boolean(o[r])}),"function"!=typeof Element.prototype.closest&&(Element.prototype.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null});